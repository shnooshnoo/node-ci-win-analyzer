{"failedTests":[{"testName":"parallel/test-whatwg-events-add-event-listener-options-passive","timestamp":1728571782446,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 2,win10-COMPILED_BY-vs2022 #30775","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=2,nodes=win10-COMPILED_BY-vs2022/30775/","buildNumber":30775,"builtOn":"test-azure_msft-win10_vs2019-x64-3","nodeVersion":"23.0.0","commitHash":"9570840848fbcfb527e0220650d37a7f653be8aa","callStack":[{"upstreamBuild":66471,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":75117,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":63026,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"55312"}],"tap":{"ok":false,"name":"parallel/test-whatwg-events-add-event-listener-options-passive","id":893,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"node:internal/assert/utils:281\n    throw err;\n    ^\n\nAssertionError [ERR_ASSERTION]: The expression evaluated to a falsy value:\n\n  ok(supportsPassive)\n\n    at Object.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\parallel\\test-whatwg-events-add-event-listener-options-passive.js:29:3)\n    at Module._compile (node:internal/modules/cjs/loader:1568:14)\n    at Object..js (node:internal/modules/cjs/loader:1711:10)\n    at Module.load (node:internal/modules/cjs/loader:1328:32)\n    at Function._load (node:internal/modules/cjs/loader:1138:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:315:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:218:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:170:5)\n    at node:internal/main/run_main_module:36:49 {\n  generatedMessage: true,\n  code: 'ERR_ASSERTION',\n  actual: false,\n  expected: true,\n  operator: '=='\n}\n\nNode.js v23.0.0-pre"},"time":154.011,"fullname":"parallel/test-whatwg-events-add-event-listener-options-passive","closingTestPoint":false}},{"testName":"wpt/test-events","timestamp":1728571782446,"status":"REGRESSION","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win10-COMPILED_BY-vs2022 #30775","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win10-COMPILED_BY-vs2022/30775/","buildNumber":30775,"builtOn":"test-azure_msft-win10_vs2019-x64-2","nodeVersion":"23.0.0","commitHash":"9570840848fbcfb527e0220650d37a7f653be8aa","callStack":[{"upstreamBuild":66471,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":75117,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":63026,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"55312"}],"tap":{"ok":false,"name":"wpt/test-events","id":1015,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"[SKIPPED] Event-dispatch-listener-order.window.js: document is not defined\n[SKIPPED] event-global-extra.window.js: document is not defined\n[SKIPPED] event-global-set-before-handleEvent-lookup.window.js: window is not defined\n[SKIPPED] event-global.worker.js: importScripts is not defined\n[SKIPPED] EventListener-addEventListener.sub.window.js: document is not defined\n[SKIPPED] EventTarget-removeEventListener.any.js: globalThis.removeEventListener is not a function\n[SKIPPED] legacy-pre-activation-behavior.window.js: document is not defined\n[SKIPPED] relatedTarget.window.js: document is not defined\n[PASS] Once listener should be invoked only once\n[PASS] Once listener should be invoked only once even if the event is nested\n[PASS] Once listener should be added / removed like normal listeners\n[PASS] Multiple once listeners should be invoked even if the stopImmediatePropagation is set\n[PASS] Passing an AbortSignal to addEventListener options should allow removing a listener\n[PASS] Passing an AbortSignal to addEventListener does not prevent removeEventListener\n[PASS] Passing an AbortSignal to addEventListener works with the once flag\n[PASS] Removing a once listener works with a passed signal\n[PASS] Passing an AbortSignal to multiple listeners\n[PASS] Passing an AbortSignal to addEventListener works with the capture flag\n[PASS] Aborting from a listener does not call future listeners\n[PASS] Adding then aborting a listener in another listener does not call it\n[PASS] Aborting from a nested listener should remove it\n[PASS] Passing null as the signal should throw\n[UNEXPECTED_FAILURE][FAIL] Supports passive option on addEventListener only\nassert_true: addEventListener doesn't support the passive option expected true got false\n    at Test.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:18:3)\n    at Test.step (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:2599:25)\n    at test (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:628:30)\n    at c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:3:1\n    at Script.runInThisContext (node:vm:137:12)\nCommand: c:\\workspace\\node-test-binary-windows-js-suites\\node\\Release\\node.exe  c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\wpt\\test-events.js 'AddEventListenerOptions-passive.any.js'\n\n[EXPECTED_FAILURE][FAIL] preventDefault should be ignored if-and-only-if the passive option is true\nassert_equals: Incorrect defaultPrevented for options: {\"passive\":true} expected false but got true\n    at testPassiveValue (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:36:3)\n    at Test.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:46:3)\n    at Test.step (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:2599:25)\n    at test (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:628:30)\n    at c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:42:1\nCommand: c:\\workspace\\node-test-binary-windows-js-suites\\node\\Release\\node.exe  c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\wpt\\test-events.js 'AddEventListenerOptions-passive.any.js'\n\n[EXPECTED_FAILURE][FAIL] returnValue should be ignored if-and-only-if the passive option is true\nassert_equals: Incorrect defaultPrevented for options: undefined expected true but got false\n    at testPassiveValueOnReturnValue (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:62:3)\n    at Test.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:69:3)\n    at Test.step (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:2599:25)\n    at async_test (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:676:34)\n    at c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:68:1\nCommand: c:\\workspace\\node-test-binary-windows-js-suites\\node\\Release\\node.exe  c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\wpt\\test-events.js 'AddEventListenerOptions-passive.any.js'\n\n[EXPECTED_FAILURE][FAIL] passive behavior of one listener should be unaffected by the presence of other listeners\nassert_equals: Incorrect defaultPrevented for options: {\"passive\":true} expected false but got true\n    at testPassiveValue (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:36:3)\n    at testPassiveWithOtherHandlers (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:92:3)\n    at Test.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-passive.any.js:104:3)\n    at Test.step (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:2599:25)\n    at test (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:628:30)\nCommand: c:\\workspace\\node-test-binary-windows-js-suites\\node\\Release\\node.exe  c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\wpt\\test-events.js 'AddEventListenerOptions-passive.any.js'\n\n[PASS] Equivalence of option values\n[UNEXPECTED_FAILURE][FAIL] Passing null as the signal should throw (listener is also null)\nassert_throws_js: function \"() => { et.addEventListener(\"foo\", null, { signal: null }); }\" did not throw\n    at Test.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-signal.any.js:142:3)\n    at Test.step (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:2599:25)\n    at test (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:628:30)\n    at c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\AddEventListenerOptions-signal.any.js:140:1\nCommand: c:\\workspace\\node-test-binary-windows-js-suites\\node\\Release\\node.exe  c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\wpt\\test-events.js 'AddEventListenerOptions-signal.any.js'\n\n[PASS] Event constructors\n[PASS] Event constructors 1\n[PASS] Event constructors 2\n[PASS] Event constructors 3\n[PASS] Event constructors 4\n[PASS] Event constructors 5\n[PASS] Event constructors 6\n[PASS] Event constructors 7\n[PASS] Event constructors 8\n[PASS] Event constructors 9\n[PASS] Event constructors 10\n[PASS] Event constructors 11\n[PASS] Event constructors 12\n[PASS] Event constructors 13\n[EXPECTED_FAILURE][FAIL] Event-isTrusted\nassert_not_equals: got disallowed value undefined\n    at Test.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\Event-isTrusted.any.js:3:3)\n    at Test.step (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:2599:25)\n    at test (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\resources\\testharness.js:628:30)\n    at c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\wpt\\dom\\events\\Event-isTrusted.any.js:1:1\n    at Script.runInThisContext (node:vm:137:12)\nCommand: c:\\workspace\\node-test-binary-windows-js-suites\\node\\Release\\node.exe  c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\wpt\\test-events.js 'Event-isTrusted.any.js'\n\n[PASS] Removing an event listener without explicit capture arg should succeed\n[PASS] Adding a null event listener should succeed\n[PASS] A constructed EventTarget can be used as expected\n[PASS] A constructed EventTarget implements dispatch correctly\n[PASS] EventTarget can be subclassed\n\n{\n  \"AddEventListenerOptions-passive.any.js\": {\n    \"fail\": {\n      \"unexpected\": [\n        \"Supports passive option on addEventListener only\"\n      ],\n      \"expected\": [\n        \"preventDefault should be ignored if-and-only-if the passive option is true\",\n        \"returnValue should be ignored if-and-only-if the passive option is true\",\n        \"passive behavior of one listener should be unaffected by the presence of other listeners\"\n      ]\n    }\n  },\n  \"AddEventListenerOptions-signal.any.js\": {\n    \"fail\": {\n      \"unexpected\": [\n        \"Passing null as the signal should throw (listener is also null)\"\n      ]\n    }\n  },\n  \"Event-dispatch-listener-order.window.js\": {\n    \"skip\": \"document is not defined\"\n  },\n  \"Event-isTrusted.any.js\": {\n    \"fail\": {\n      \"expected\": [\n        \"Event-isTrusted\"\n      ]\n    }\n  },\n  \"EventListener-addEventListener.sub.window.js\": {\n    \"skip\": \"document is not defined\"\n  },\n  \"EventTarget-removeEventListener.any.js\": {\n    \"skip\": \"globalThis.removeEventListener is not a function\"\n  },\n  \"event-global-extra.window.js\": {\n    \"skip\": \"document is not defined\"\n  },\n  \"event-global-set-before-handleEvent-lookup.window.js\": {\n    \"skip\": \"window is not defined\"\n  },\n  \"event-global.worker.js\": {\n    \"skip\": \"importScripts is not defined\"\n  },\n  \"legacy-pre-activation-behavior.window.js\": {\n    \"skip\": \"document is not defined\"\n  },\n  \"relatedTarget.window.js\": {\n    \"skip\": \"document is not defined\"\n  }\n}\n\nRan 8/16 tests, 8 skipped, 4 passed, 2 expected failures, 2 unexpected failures, 0 unexpected passes\n(node:3608) AddEventListenerArgumentTypeWarning: addEventListener called with null which has no effect.\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:3608) AddEventListenerArgumentTypeWarning: addEventListener called with null which has no effect.\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:3608) AddEventListenerArgumentTypeWarning: addEventListener called with null which has no effect.\n(Use `node --trace-warnings ...` to show where the warning was created)\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\wpt.js:800\n        throw new Error(\n        ^\n\nError: Found 2 unexpected failures. Consider updating test\\wpt\\status\\dom\\events.json for these files:\nAddEventListenerOptions-passive.any.js\nAddEventListenerOptions-signal.any.js\n    at process.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\wpt.js:800:15)\n    at process.emit (node:events:507:28)\n\nNode.js v23.0.0-pre"},"time":577.626,"fullname":"wpt/test-events","closingTestPoint":false}}]}