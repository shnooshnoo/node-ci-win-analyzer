{"failedTests":[{"testName":"sequential/test-watch-mode","timestamp":1701709368010,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win11-arm64-COMPILED_BY-vs2022-arm64 #24818","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win11-arm64-COMPILED_BY-vs2022-arm64/24818/","buildNumber":24818,"builtOn":"test-azure_msft-win11_vs2022-arm64-3","nodeVersion":"22.0.0","commitHash":"83237c899b64d2e63bcdb0a98d02b34689ca3a14","callStack":[{"upstreamBuild":59615,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":67080,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56076,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"sequential/test-watch-mode","id":956,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: watch mode\n    # Subtest: should watch changes to a file - event loop ended\n    ok 1 - should watch changes to a file - event loop ended\n      ---\n      duration_ms: 1127.9517\n      ...\n    # Subtest: should watch changes to a failing file\n    ok 2 - should watch changes to a failing file\n      ---\n      duration_ms: 1093.9083\n      ...\n    # Subtest: should watch changes to a file with watch-path\n    ok 3 - should watch changes to a file with watch-path\n      ---\n      duration_ms: 1115.7857\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path\n    ok 4 - should watch when running an non-existing file - when specified under --watch-path\n      ---\n      duration_ms: 1060.3427\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path with equals\n    ok 5 - should watch when running an non-existing file - when specified under --watch-path with equals\n      ---\n      duration_ms: 1170.3348\n      ...\n    # Subtest: should watch changes to a file - event loop blocked\n    ok 6 - should watch changes to a file - event loop blocked\n      ---\n      duration_ms: 962.0566\n      ...\n    # Subtest: should watch changes to dependencies - cjs\n    ok 7 - should watch changes to dependencies - cjs\n      ---\n      duration_ms: 1377.4976\n      ...\n    # Subtest: should watch changes to dependencies - esm\n    ok 8 - should watch changes to dependencies - esm\n      ---\n      duration_ms: 1417.6958\n      ...\n    # Subtest: should restart multiple times\n    ok 9 - should restart multiple times\n      ---\n      duration_ms: 3700.0519\n      ...\n    # Subtest: should pass arguments to file\n    ok 10 - should pass arguments to file\n      ---\n      duration_ms: 1351.0766\n      ...\n    # Subtest: should load --require modules in the watched process, and not in the orchestrator process\n    ok 11 - should load --require modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1342.296\n      ...\n    # Subtest: should load --import modules in the watched process, and not in the orchestrator process\n    ok 12 - should load --import modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1190.2903\n      ...\n    # Subtest: should not watch when running an missing file\n    ok 13 - should not watch when running an missing file\n      ---\n      duration_ms: 1140.9161\n      ...\n    # Subtest: should not watch when running an missing mjs file\n    ok 14 - should not watch when running an missing mjs file\n      ---\n      duration_ms: 1122.272\n      ...\n    # Subtest: should watch changes to previously missing dependency\n    ok 15 - should watch changes to previously missing dependency\n      ---\n      duration_ms: 1261.0174\n      ...\n    # Subtest: should watch changes to previously missing ESM dependency\n    ok 16 - should watch changes to previously missing ESM dependency\n      ---\n      duration_ms: 1240.4464\n      ...\n    # Subtest: should clear output between runs\n    ok 17 - should clear output between runs\n      ---\n      duration_ms: 1076.2642\n      ...\n    # Subtest: should preserve output when --watch-preserve-output flag is passed\n    ok 18 - should preserve output when --watch-preserve-output flag is passed\n      ---\n      duration_ms: 1180.2777\n      ...\n    # Subtest: should pass IPC messages from a spawning parent to the child and back\n    not ok 19 - should pass IPC messages from a spawning parent to the child and back\n      ---\n      duration_ms: 1167.6822\n      location: 'file:///d:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:362:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          [\n            'running',\n            'Received: first message',\n        +   \"Restarting 'd:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.955\\\\\\\\24.js'\",\n        -   \"Restarting 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.955\\\\24.js'\",\n            'running',\n            'Received: second message',\n            \"Completed running 'd:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.955\\\\\\\\24.js'\"\n          ]\n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.955\\\\24.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'd:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.955\\\\\\\\24.js'\"\n      actual:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'd:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.955\\\\\\\\24.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'd:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.955\\\\\\\\24.js'\"\n      operator: 'deepStrictEqual'\n      stack: |-\n        TestContext.<anonymous> (file:///d:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:431:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:632:9)\n        async Promise.all (index 18)\n        async Suite.run (node:internal/test_runner/test:948:7)\n        async startSubtest (node:internal/test_runner/harness:216:3)\n      ...\n    1..19\nnot ok 1 - watch mode\n  ---\n  duration_ms: 3782.6497\n  type: 'suite'\n  location: 'file:///d:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:91:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 19\n# suites 1\n# pass 18\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 3799.4612"},"time":4239.941,"fullname":"sequential/test-watch-mode","closingTestPoint":false}},{"testName":"sequential/test-watch-mode","timestamp":1701709368010,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 2,win2016-COMPILED_BY-vs2022-x86 #24818","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=2,nodes=win2016-COMPILED_BY-vs2022-x86/24818/","buildNumber":24818,"builtOn":"test-azure_msft-win2016_vs2017-x64-4","nodeVersion":"22.0.0","commitHash":"83237c899b64d2e63bcdb0a98d02b34689ca3a14","callStack":[{"upstreamBuild":59615,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":67080,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56076,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"sequential/test-watch-mode","id":957,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: watch mode\n    # Subtest: should watch changes to a file - event loop ended\n    ok 1 - should watch changes to a file - event loop ended\n      ---\n      duration_ms: 1272.1903\n      ...\n    # Subtest: should watch changes to a failing file\n    ok 2 - should watch changes to a failing file\n      ---\n      duration_ms: 1238.193\n      ...\n    # Subtest: should watch changes to a file with watch-path\n    ok 3 - should watch changes to a file with watch-path\n      ---\n      duration_ms: 1130.8269\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path\n    ok 4 - should watch when running an non-existing file - when specified under --watch-path\n      ---\n      duration_ms: 1127.5\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path with equals\n    ok 5 - should watch when running an non-existing file - when specified under --watch-path with equals\n      ---\n      duration_ms: 1195.4549\n      ...\n    # Subtest: should watch changes to a file - event loop blocked\n    ok 6 - should watch changes to a file - event loop blocked\n      ---\n      duration_ms: 1111.4556\n      ...\n    # Subtest: should watch changes to dependencies - cjs\n    ok 7 - should watch changes to dependencies - cjs\n      ---\n      duration_ms: 1219.7238\n      ...\n    # Subtest: should watch changes to dependencies - esm\n    ok 8 - should watch changes to dependencies - esm\n      ---\n      duration_ms: 1380.8592\n      ...\n    # Subtest: should restart multiple times\n    ok 9 - should restart multiple times\n      ---\n      duration_ms: 3392.9684\n      ...\n    # Subtest: should pass arguments to file\n    ok 10 - should pass arguments to file\n      ---\n      duration_ms: 1266.5842\n      ...\n    # Subtest: should load --require modules in the watched process, and not in the orchestrator process\n    ok 11 - should load --require modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1295.2162\n      ...\n    # Subtest: should load --import modules in the watched process, and not in the orchestrator process\n    ok 12 - should load --import modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1419.1222\n      ...\n    # Subtest: should not watch when running an missing file\n    ok 13 - should not watch when running an missing file\n      ---\n      duration_ms: 1126.1843\n      ...\n    # Subtest: should not watch when running an missing mjs file\n    ok 14 - should not watch when running an missing mjs file\n      ---\n      duration_ms: 1303.8751\n      ...\n    # Subtest: should watch changes to previously missing dependency\n    ok 15 - should watch changes to previously missing dependency\n      ---\n      duration_ms: 1196.8772\n      ...\n    # Subtest: should watch changes to previously missing ESM dependency\n    ok 16 - should watch changes to previously missing ESM dependency\n      ---\n      duration_ms: 1331.7573\n      ...\n    # Subtest: should clear output between runs\n    ok 17 - should clear output between runs\n      ---\n      duration_ms: 1184.9996\n      ...\n    # Subtest: should preserve output when --watch-preserve-output flag is passed\n    ok 18 - should preserve output when --watch-preserve-output flag is passed\n      ---\n      duration_ms: 1164.0011\n      ...\n    # Subtest: should pass IPC messages from a spawning parent to the child and back\n    not ok 19 - should pass IPC messages from a spawning parent to the child and back\n      ---\n      duration_ms: 1205.6527\n      location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:362:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          [\n            'running',\n            'Received: first message',\n        +   \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\",\n        -   \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.956\\\\24.js'\",\n            'running',\n            'Received: second message',\n            \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n          ]\n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.956\\\\24.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n      actual:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n      operator: 'deepStrictEqual'\n      stack: |-\n        TestContext.<anonymous> (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:431:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:632:9)\n        async Promise.all (index 18)\n        async Suite.run (node:internal/test_runner/test:948:7)\n        async startSubtest (node:internal/test_runner/harness:216:3)\n      ...\n    1..19\nnot ok 1 - watch mode\n  ---\n  duration_ms: 3474.9713\n  type: 'suite'\n  location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:91:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 19\n# suites 1\n# pass 18\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 3492.1974"},"time":3865.455,"fullname":"sequential/test-watch-mode","closingTestPoint":false}},{"testName":"sequential/test-watch-mode","timestamp":1701709368010,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 2,win2022-COMPILED_BY-vs2022 #24818","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=2,nodes=win2022-COMPILED_BY-vs2022/24818/","buildNumber":24818,"builtOn":"test-rackspace-win2022_vs2022-x64-3","nodeVersion":"22.0.0","commitHash":"83237c899b64d2e63bcdb0a98d02b34689ca3a14","callStack":[{"upstreamBuild":59615,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":67080,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56076,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"sequential/test-watch-mode","id":957,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: watch mode\n    # Subtest: should watch changes to a file - event loop ended\n    ok 1 - should watch changes to a file - event loop ended\n      ---\n      duration_ms: 972.3749\n      ...\n    # Subtest: should watch changes to a failing file\n    ok 2 - should watch changes to a failing file\n      ---\n      duration_ms: 985.6536\n      ...\n    # Subtest: should watch changes to a file with watch-path\n    ok 3 - should watch changes to a file with watch-path\n      ---\n      duration_ms: 1145.7006\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path\n    ok 4 - should watch when running an non-existing file - when specified under --watch-path\n      ---\n      duration_ms: 1061.4897\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path with equals\n    ok 5 - should watch when running an non-existing file - when specified under --watch-path with equals\n      ---\n      duration_ms: 1150.5078\n      ...\n    # Subtest: should watch changes to a file - event loop blocked\n    ok 6 - should watch changes to a file - event loop blocked\n      ---\n      duration_ms: 1107.87\n      ...\n    # Subtest: should watch changes to dependencies - cjs\n    ok 7 - should watch changes to dependencies - cjs\n      ---\n      duration_ms: 1236.6326\n      ...\n    # Subtest: should watch changes to dependencies - esm\n    ok 8 - should watch changes to dependencies - esm\n      ---\n      duration_ms: 1128.5064\n      ...\n    # Subtest: should restart multiple times\n    ok 9 - should restart multiple times\n      ---\n      duration_ms: 3314.2527\n      ...\n    # Subtest: should pass arguments to file\n    ok 10 - should pass arguments to file\n      ---\n      duration_ms: 1170.485\n      ...\n    # Subtest: should load --require modules in the watched process, and not in the orchestrator process\n    ok 11 - should load --require modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1184.9232\n      ...\n    # Subtest: should load --import modules in the watched process, and not in the orchestrator process\n    ok 12 - should load --import modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1232.5099\n      ...\n    # Subtest: should not watch when running an missing file\n    ok 13 - should not watch when running an missing file\n      ---\n      duration_ms: 1264.9253\n      ...\n    # Subtest: should not watch when running an missing mjs file\n    ok 14 - should not watch when running an missing mjs file\n      ---\n      duration_ms: 1252.8128\n      ...\n    # Subtest: should watch changes to previously missing dependency\n    ok 15 - should watch changes to previously missing dependency\n      ---\n      duration_ms: 1171.2092\n      ...\n    # Subtest: should watch changes to previously missing ESM dependency\n    ok 16 - should watch changes to previously missing ESM dependency\n      ---\n      duration_ms: 1247.8741\n      ...\n    # Subtest: should clear output between runs\n    ok 17 - should clear output between runs\n      ---\n      duration_ms: 1126.8301\n      ...\n    # Subtest: should preserve output when --watch-preserve-output flag is passed\n    ok 18 - should preserve output when --watch-preserve-output flag is passed\n      ---\n      duration_ms: 1069.2538\n      ...\n    # Subtest: should pass IPC messages from a spawning parent to the child and back\n    not ok 19 - should pass IPC messages from a spawning parent to the child and back\n      ---\n      duration_ms: 1091.5823\n      location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:362:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          [\n            'running',\n            'Received: first message',\n        +   \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\",\n        -   \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.956\\\\24.js'\",\n            'running',\n            'Received: second message',\n            \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n          ]\n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.956\\\\24.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n      actual:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n      operator: 'deepStrictEqual'\n      stack: |-\n        TestContext.<anonymous> (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:431:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:632:9)\n        async Promise.all (index 18)\n        async Suite.run (node:internal/test_runner/test:948:7)\n        async startSubtest (node:internal/test_runner/harness:216:3)\n      ...\n    1..19\nnot ok 1 - watch mode\n  ---\n  duration_ms: 3443.473\n  type: 'suite'\n  location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:91:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 19\n# suites 1\n# pass 18\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 3474.5482"},"time":3924.074,"fullname":"sequential/test-watch-mode","closingTestPoint":false}},{"testName":"parallel/test-runner-watch-mode","timestamp":1701709368010,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 2,win11-arm64-COMPILED_BY-vs2022-arm64 #24818","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=2,nodes=win11-arm64-COMPILED_BY-vs2022-arm64/24818/","buildNumber":24818,"builtOn":"test-azure_msft-win11_vs2022-arm64-6","nodeVersion":"22.0.0","commitHash":"83237c899b64d2e63bcdb0a98d02b34689ca3a14","callStack":[{"upstreamBuild":59615,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":67080,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56076,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"parallel/test-runner-watch-mode","id":760,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: test runner watch mode\n    # Subtest: should run tests repeatedly\n    ok 1 - should run tests repeatedly\n      ---\n      duration_ms: 2640.155\n      ...\n    # Subtest: should run tests with dependency repeatedly\n    ok 2 - should run tests with dependency repeatedly\n      ---\n      duration_ms: 1876.3263\n      ...\n    # Subtest: should run tests with ESM dependency\n    ok 3 - should run tests with ESM dependency\n      ---\n      duration_ms: 1790.7921\n      ...\n    # Subtest: should support running tests without a file\n    ok 4 - should support running tests without a file\n      ---\n      duration_ms: 1775.8257\n      ...\n    1..4\nok 1 - test runner watch mode\n  ---\n  duration_ms: 8087.0713\n  type: 'suite'\n  ...\n1..1\n# tests 4\n# suites 1\n# pass 4\n# fail 0\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 8118.0908\nCan't clean tmpdir: d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\.tmp.652\nFiles blocking: [ 'dependency.js', 'dependency.mjs', 'test.js' ]\n\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\tmpdir.js:69\n    throw e;\n    ^\n\nError: EBUSY: resource busy or locked, rmdir 'd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\.tmp.652'\n    at rmdirSync (node:fs:1221:11)\n    at _rmdirSync (node:internal/fs/rimraf:235:5)\n    at rimrafSync (node:internal/fs/rimraf:193:7)\n    at Object.rmSync (node:fs:1270:10)\n    at rmSync (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\tmpdir.js:20:8)\n    at onexit (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\tmpdir.js:54:5)\n    at process.<anonymous> (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\tmpdir.js:43:14)\n    at process.emit (node:events:531:35) {\n  errno: -4082,\n  code: 'EBUSY',\n  syscall: 'rmdir',\n  path: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.652'\n}\n\nNode.js v22.0.0-pre"},"time":8988.004,"fullname":"parallel/test-runner-watch-mode","closingTestPoint":false}},{"testName":"sequential/test-watch-mode","timestamp":1701709368010,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 2,win2019-COMPILED_BY-vs2022 #24818","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=2,nodes=win2019-COMPILED_BY-vs2022/24818/","buildNumber":24818,"builtOn":"test-rackspace-win2019_vs2019-x64-4","nodeVersion":"22.0.0","commitHash":"83237c899b64d2e63bcdb0a98d02b34689ca3a14","callStack":[{"upstreamBuild":59615,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":67080,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56076,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"sequential/test-watch-mode","id":957,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: watch mode\n    # Subtest: should watch changes to a file - event loop ended\n    ok 1 - should watch changes to a file - event loop ended\n      ---\n      duration_ms: 1134.7207\n      ...\n    # Subtest: should watch changes to a failing file\n    ok 2 - should watch changes to a failing file\n      ---\n      duration_ms: 1083.5543\n      ...\n    # Subtest: should watch changes to a file with watch-path\n    ok 3 - should watch changes to a file with watch-path\n      ---\n      duration_ms: 1098.7789\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path\n    ok 4 - should watch when running an non-existing file - when specified under --watch-path\n      ---\n      duration_ms: 1200.98\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path with equals\n    ok 5 - should watch when running an non-existing file - when specified under --watch-path with equals\n      ---\n      duration_ms: 1084.5019\n      ...\n    # Subtest: should watch changes to a file - event loop blocked\n    ok 6 - should watch changes to a file - event loop blocked\n      ---\n      duration_ms: 1066.653\n      ...\n    # Subtest: should watch changes to dependencies - cjs\n    ok 7 - should watch changes to dependencies - cjs\n      ---\n      duration_ms: 1179.326\n      ...\n    # Subtest: should watch changes to dependencies - esm\n    ok 8 - should watch changes to dependencies - esm\n      ---\n      duration_ms: 1153.5501\n      ...\n    # Subtest: should restart multiple times\n    ok 9 - should restart multiple times\n      ---\n      duration_ms: 3627.1745\n      ...\n    # Subtest: should pass arguments to file\n    ok 10 - should pass arguments to file\n      ---\n      duration_ms: 1126.2632\n      ...\n    # Subtest: should load --require modules in the watched process, and not in the orchestrator process\n    ok 11 - should load --require modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1309.2988\n      ...\n    # Subtest: should load --import modules in the watched process, and not in the orchestrator process\n    ok 12 - should load --import modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1199.2972\n      ...\n    # Subtest: should not watch when running an missing file\n    ok 13 - should not watch when running an missing file\n      ---\n      duration_ms: 1168.3934\n      ...\n    # Subtest: should not watch when running an missing mjs file\n    ok 14 - should not watch when running an missing mjs file\n      ---\n      duration_ms: 1233.9941\n      ...\n    # Subtest: should watch changes to previously missing dependency\n    ok 15 - should watch changes to previously missing dependency\n      ---\n      duration_ms: 1344.7623\n      ...\n    # Subtest: should watch changes to previously missing ESM dependency\n    ok 16 - should watch changes to previously missing ESM dependency\n      ---\n      duration_ms: 1243.1665\n      ...\n    # Subtest: should clear output between runs\n    ok 17 - should clear output between runs\n      ---\n      duration_ms: 1109.5956\n      ...\n    # Subtest: should preserve output when --watch-preserve-output flag is passed\n    ok 18 - should preserve output when --watch-preserve-output flag is passed\n      ---\n      duration_ms: 1197.2114\n      ...\n    # Subtest: should pass IPC messages from a spawning parent to the child and back\n    not ok 19 - should pass IPC messages from a spawning parent to the child and back\n      ---\n      duration_ms: 1187.7665\n      location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:362:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          [\n            'running',\n            'Received: first message',\n        +   \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\",\n        -   \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.956\\\\24.js'\",\n            'running',\n            'Received: second message',\n            \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n          ]\n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.956\\\\24.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n      actual:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.956\\\\\\\\24.js'\"\n      operator: 'deepStrictEqual'\n      stack: |-\n        TestContext.<anonymous> (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:431:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:632:9)\n        async Promise.all (index 18)\n        async Suite.run (node:internal/test_runner/test:948:7)\n        async startSubtest (node:internal/test_runner/harness:216:3)\n      ...\n    1..19\nnot ok 1 - watch mode\n  ---\n  duration_ms: 3748.2101\n  type: 'suite'\n  location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:91:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 19\n# suites 1\n# pass 18\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 3776.1945"},"time":4271.054,"fullname":"sequential/test-watch-mode","closingTestPoint":false}}]}