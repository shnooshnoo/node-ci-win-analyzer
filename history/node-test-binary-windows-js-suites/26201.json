{"failedTests":[{"testName":"es-module/test-cjs-legacyMainResolve","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 0,win2016-COMPILED_BY-vs2022-x86 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=0,nodes=win2016-COMPILED_BY-vs2022-x86/26201/","buildNumber":26201,"builtOn":"test-rackspace-win2016_vs2015-x64-1","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve","id":23,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should resolve using packageConfig.main\n    not ok 1 - should resolve using packageConfig.main\n      ---\n      duration_ms: 7.2877\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:16:3'\n      failureType: 'testCodeFailure'\n      error: 'The URL must be of scheme file:'\n      code: 'ERR_INVALID_URL_SCHEME'\n      name: 'TypeError'\n      stack: |-\n        legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve.js:41:9)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n      ...\n    # Subtest: should resolve using packageJsonUrl\n    ok 2 - should resolve using packageJsonUrl\n      ---\n      duration_ms: 2.297\n      ...\n    # Subtest: should throw when packageJsonUrl is not URL\n    ok 3 - should throw when packageJsonUrl is not URL\n      ---\n      duration_ms: 2.5189\n      ...\n    # Subtest: should throw when packageConfigMain is invalid URL\n    ok 4 - should throw when packageConfigMain is invalid URL\n      ---\n      duration_ms: 0.9227\n      ...\n    # Subtest: should throw when packageJsonUrl is invalid URL\n    ok 5 - should throw when packageJsonUrl is invalid URL\n      ---\n      duration_ms: 0.5301\n      ...\n    # Subtest: should throw when cannot resolve to a file\n    ok 6 - should throw when cannot resolve to a file\n      ---\n      duration_ms: 0.5232\n      ...\n    # Subtest: should not crash when cannot resolve to a file that contains special chars\n    ok 7 - should not crash when cannot resolve to a file that contains special chars\n      ---\n      duration_ms: 0.7651\n      ...\n    # Subtest: should throw when cannot resolve to a file (base not defined)\n    ok 8 - should throw when cannot resolve to a file (base not defined)\n      ---\n      duration_ms: 0.7621\n      ...\n    1..8\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 24.3889\n  type: 'suite'\n  location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:15:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 8\n# suites 1\n# pass 7\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 61.7514"},"time":359.991,"fullname":"es-module/test-cjs-legacyMainResolve","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve-permission","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win10-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win10-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win10_vs2019-x64-4","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve-permission","id":23,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should ensure permission model when resolving by packageConfig.main\n    not ok 1 - should ensure permission model when resolving by packageConfig.main\n      ---\n      duration_ms: 67.9683\n      location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:19:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:19:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:19:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:19:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:19:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:75:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n        Array.map (<anonymous>)\n      ...\n    # Subtest: should ensure permission model when resolving by packageJsonUrl\n    not ok 2 - should ensure permission model when resolving by packageJsonUrl\n      ---\n      duration_ms: 70.4985\n      location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:79:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:20:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:20:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:20:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:20:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:133:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Suite.processPendingSubtests (node:internal/test_runner/test:382:18)\n        Test.postRun (node:internal/test_runner/test:732:19)\n        Test.run (node:internal/test_runner/test:690:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..2\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 141.6832\n  type: 'suite'\n  location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:18:1'\n  failureType: 'subtestsFailed'\n  error: '2 subtests failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 2\n# suites 1\n# pass 0\n# fail 2\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 158.0921\n(node:9888) ExperimentalWarning: Permission is an experimental feature\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:9888) SecurityWarning: The flag --allow-child-process must be used with extreme caution. It could invalidate the permission model."},"time":306.002,"fullname":"es-module/test-cjs-legacyMainResolve-permission","closingTestPoint":false}},{"testName":"sequential/test-module-loading","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win10-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win10-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win10_vs2019-x64-4","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"sequential/test-module-loading","id":957,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"{ loaded: 'from child' }\n{ loaded: 'from child' }\nb/c.js exit\nexit\nload test-module-loading.js\nload fixtures/b/d.js\nload package/index.js\nload fixtures/b/c.js\nload fixtures/a.js\ntest index.js modules ids and relative loading\ntest index.js in a folder with a trailing slash\ntest cycles containing a .. path\ntest node_modules folders\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\foo.js\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nc:\\workspace\\node_modules\nc:\\node_modules\n\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\index.js\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nc:\\workspace\\node_modules\nc:\\node_modules\n\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\bar.js\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nc:\\workspace\\node_modules\nc:\\node_modules\n\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\\asdf.js\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nc:\\workspace\\node_modules\nc:\\node_modules\n\ntest name clashes\nload custom file types with extensions\nload custom file types that return non-strings\nload order\n(node:9560) [DEP0128] DeprecationWarning: Invalid 'main' field in '\\\\?\\c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\packages\\missing-main\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\n(Use `node --trace-deprecation ...` to show where the warning was created)\nnode:assert:126\n  throw new AssertionError(obj);\n  ^\n\nAssertionError [ERR_ASSERTION]: Expected values to be strictly equal:\n+ actual - expected\n\n+ \"Invalid 'main' field in '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n- \"Invalid 'main' field in 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n    at Object.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:677:14)\n    at Object.DeprecationWarning (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:473:15)\n    at process.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:701:33)\n    at process.emit (node:events:531:35)\n    at doEmitWarning (node:internal/process/warning:94:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21) {\n  generatedMessage: true,\n  code: 'ERR_ASSERTION',\n  actual: \"Invalid 'main' field in '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  expected: \"Invalid 'main' field in 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  operator: 'strictEqual'\n}\n\nNode.js v22.0.0-pre"},"time":187.999,"fullname":"sequential/test-module-loading","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve-permission","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win2022-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win2022-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-rackspace-win2022_vs2022-x64-6","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve-permission","id":25,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should ensure permission model when resolving by packageConfig.main\n    not ok 1 - should ensure permission model when resolving by packageConfig.main\n      ---\n      duration_ms: 116.198\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:19:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:19:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:19:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:19:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:19:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:75:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n        Array.map (<anonymous>)\n      ...\n    # Subtest: should ensure permission model when resolving by packageJsonUrl\n    not ok 2 - should ensure permission model when resolving by packageJsonUrl\n      ---\n      duration_ms: 146.2996\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:79:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:20:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:20:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:20:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:20:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:133:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Suite.processPendingSubtests (node:internal/test_runner/test:382:18)\n        Test.postRun (node:internal/test_runner/test:732:19)\n        Test.run (node:internal/test_runner/test:690:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..2\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 268.9221\n  type: 'suite'\n  location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:18:1'\n  failureType: 'subtestsFailed'\n  error: '2 subtests failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 2\n# suites 1\n# pass 0\n# fail 2\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 304.1211\n(node:8884) ExperimentalWarning: Permission is an experimental feature\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:8884) SecurityWarning: The flag --allow-child-process must be used with extreme caution. It could invalidate the permission model."},"time":714.007,"fullname":"es-module/test-cjs-legacyMainResolve-permission","closingTestPoint":false}},{"testName":"sequential/test-module-loading","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win2022-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win2022-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-rackspace-win2022_vs2022-x64-6","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"sequential/test-module-loading","id":957,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"{ loaded: 'from child' }\n{ loaded: 'from child' }\nb/c.js exit\nexit\nload test-module-loading.js\nload fixtures/b/d.js\nload package/index.js\nload fixtures/b/c.js\nload fixtures/a.js\ntest index.js modules ids and relative loading\ntest index.js in a folder with a trailing slash\ntest cycles containing a .. path\ntest node_modules folders\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\foo.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\index.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\bar.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\\asdf.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\ntest name clashes\nload custom file types with extensions\nload custom file types that return non-strings\nload order\n(node:4740) [DEP0128] DeprecationWarning: Invalid 'main' field in '\\\\?\\C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\packages\\missing-main\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\n(Use `node --trace-deprecation ...` to show where the warning was created)\nnode:assert:126\n  throw new AssertionError(obj);\n  ^\n\nAssertionError [ERR_ASSERTION]: Expected values to be strictly equal:\n+ actual - expected\n\n+ \"Invalid 'main' field in '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n- \"Invalid 'main' field in 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n    at Object.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:677:14)\n    at Object.DeprecationWarning (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:473:15)\n    at process.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:701:33)\n    at process.emit (node:events:531:35)\n    at doEmitWarning (node:internal/process/warning:94:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21) {\n  generatedMessage: true,\n  code: 'ERR_ASSERTION',\n  actual: \"Invalid 'main' field in '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  expected: \"Invalid 'main' field in 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  operator: 'strictEqual'\n}\n\nNode.js v22.0.0-pre"},"time":1094.006,"fullname":"sequential/test-module-loading","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve-permission","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win11-arm64-COMPILED_BY-vs2022-arm64 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win11-arm64-COMPILED_BY-vs2022-arm64/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win11_vs2022-arm64-1","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve-permission","id":30,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should ensure permission model when resolving by packageConfig.main\n    not ok 1 - should ensure permission model when resolving by packageConfig.main\n      ---\n      duration_ms: 188.8924\n      location: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:19:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\d:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:19:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:19:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:19:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\d:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:19:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:75:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n        Array.map (<anonymous>)\n      ...\n    # Subtest: should ensure permission model when resolving by packageJsonUrl\n    not ok 2 - should ensure permission model when resolving by packageJsonUrl\n      ---\n      duration_ms: 177.2831\n      location: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:79:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\d:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:20:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:20:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:20:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\d:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:20:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:133:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Suite.processPendingSubtests (node:internal/test_runner/test:382:18)\n        Test.postRun (node:internal/test_runner/test:732:19)\n        Test.run (node:internal/test_runner/test:690:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..2\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 369.5952\n  type: 'suite'\n  location: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:18:1'\n  failureType: 'subtestsFailed'\n  error: '2 subtests failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 2\n# suites 1\n# pass 0\n# fail 2\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 394.9541\n(node:10904) ExperimentalWarning: Permission is an experimental feature\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:10904) SecurityWarning: The flag --allow-child-process must be used with extreme caution. It could invalidate the permission model."},"time":756.997,"fullname":"es-module/test-cjs-legacyMainResolve-permission","closingTestPoint":false}},{"testName":"es-module/test-esm-invalid-pjson","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win2022-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win2022-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-rackspace-win2022_vs2022-x64-4","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-esm-invalid-pjson","id":36,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: ESM: Package.json\n    # Subtest: should throw on invalid pson\n    not ok 1 - should throw on invalid pson\n      ---\n      duration_ms: 1033.152\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:11:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:internal/modules/package_json_reader:110\n          const parsed = modulesBinding.readPackageJSON(\n                                        ^\n        \n        Error: Invalid package config \\\\?\\C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\invalid-pjson\\package.json while importing \"invalid-pjson\" from C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\es-modules\\import-invalid-pjson.mjs.\n            at Object.read (node:internal/modules/package_json_reader:110:33)\n            at packageResolve (node:internal/modules/esm/resolve:826:45)\n            at moduleResolve (node:internal/modules/esm/resolve:918:18)\n            at defaultResolve (node:internal/modules/esm/resolve:1148:11)\n            at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n            at ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n            at ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n            at ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n            at link (node:internal/modules/esm/module_job:86:36) {\n          code: 'ERR_INVALID_PACKAGE_CONFIG'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: true\n      actual: false\n      operator: '=='\n      stack: |-\n        Object.read (node:internal/modules/package_json_reader:110:33)\n        packageResolve (node:internal/modules/esm/resolve:826:45)\n        moduleResolve (node:internal/modules/esm/resolve:918:18)\n        defaultResolve (node:internal/modules/esm/resolve:1148:11)\n        ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n        ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n        ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n        ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n        link (node:internal/modules/esm/module_job:86:36) {\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-esm-invalid-pjson.js:18:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:642:9)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..1\nnot ok 1 - ESM: Package.json\n  ---\n  duration_ms: 1040.6131\n  type: 'suite'\n  location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:10:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 1\n# suites 1\n# pass 0\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 1066.5687"},"time":1725.025,"fullname":"es-module/test-esm-invalid-pjson","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve-permission","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win2016-COMPILED_BY-vs2022-x86 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win2016-COMPILED_BY-vs2022-x86/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win2016_vs2017-x64-2","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve-permission","id":23,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should ensure permission model when resolving by packageConfig.main\n    not ok 1 - should ensure permission model when resolving by packageConfig.main\n      ---\n      duration_ms: 72.9477\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:19:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:19:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:19:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:19:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:19:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:75:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n        Array.map (<anonymous>)\n      ...\n    # Subtest: should ensure permission model when resolving by packageJsonUrl\n    not ok 2 - should ensure permission model when resolving by packageJsonUrl\n      ---\n      duration_ms: 90.1249\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:79:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:20:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:20:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:20:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:20:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:133:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Suite.processPendingSubtests (node:internal/test_runner/test:382:18)\n        Test.postRun (node:internal/test_runner/test:732:19)\n        Test.run (node:internal/test_runner/test:690:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..2\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 166.4957\n  type: 'suite'\n  location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:18:1'\n  failureType: 'subtestsFailed'\n  error: '2 subtests failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 2\n# suites 1\n# pass 0\n# fail 2\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 184.9814\n(node:4980) ExperimentalWarning: Permission is an experimental feature\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:4980) SecurityWarning: The flag --allow-child-process must be used with extreme caution. It could invalidate the permission model."},"time":419.008,"fullname":"es-module/test-cjs-legacyMainResolve-permission","closingTestPoint":false}},{"testName":"sequential/test-module-loading","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win2016-COMPILED_BY-vs2022-x86 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win2016-COMPILED_BY-vs2022-x86/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win2016_vs2017-x64-2","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"sequential/test-module-loading","id":957,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"{ loaded: 'from child' }\n{ loaded: 'from child' }\nb/c.js exit\nexit\nload test-module-loading.js\nload fixtures/b/d.js\nload package/index.js\nload fixtures/b/c.js\nload fixtures/a.js\ntest index.js modules ids and relative loading\ntest index.js in a folder with a trailing slash\ntest cycles containing a .. path\ntest node_modules folders\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\foo.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\index.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\bar.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\\asdf.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\ntest name clashes\nload custom file types with extensions\nload custom file types that return non-strings\nload order\n(node:3240) [DEP0128] DeprecationWarning: Invalid 'main' field in '\\\\?\\C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\packages\\missing-main\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\n(Use `node --trace-deprecation ...` to show where the warning was created)\nnode:assert:126\n  throw new AssertionError(obj);\n  ^\n\nAssertionError [ERR_ASSERTION]: Expected values to be strictly equal:\n+ actual - expected\n\n+ \"Invalid 'main' field in '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n- \"Invalid 'main' field in 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n    at Object.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:677:14)\n    at Object.DeprecationWarning (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:473:15)\n    at process.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:701:33)\n    at process.emit (node:events:531:35)\n    at doEmitWarning (node:internal/process/warning:94:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21) {\n  generatedMessage: true,\n  code: 'ERR_ASSERTION',\n  actual: \"Invalid 'main' field in '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  expected: \"Invalid 'main' field in 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  operator: 'strictEqual'\n}\n\nNode.js v22.0.0-pre"},"time":674.509,"fullname":"sequential/test-module-loading","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 0,win11-arm64-COMPILED_BY-vs2022-arm64 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=0,nodes=win11-arm64-COMPILED_BY-vs2022-arm64/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win11_vs2022-arm64-6","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve","id":21,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should resolve using packageConfig.main\n    not ok 1 - should resolve using packageConfig.main\n      ---\n      duration_ms: 4.0142\n      location: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:16:3'\n      failureType: 'testCodeFailure'\n      error: 'The URL must be of scheme file:'\n      code: 'ERR_INVALID_URL_SCHEME'\n      name: 'TypeError'\n      stack: |-\n        legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n        TestContext.<anonymous> (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve.js:41:9)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n      ...\n    # Subtest: should resolve using packageJsonUrl\n    ok 2 - should resolve using packageJsonUrl\n      ---\n      duration_ms: 2.0938\n      ...\n    # Subtest: should throw when packageJsonUrl is not URL\n    ok 3 - should throw when packageJsonUrl is not URL\n      ---\n      duration_ms: 3.4529\n      ...\n    # Subtest: should throw when packageConfigMain is invalid URL\n    ok 4 - should throw when packageConfigMain is invalid URL\n      ---\n      duration_ms: 0.5861\n      ...\n    # Subtest: should throw when packageJsonUrl is invalid URL\n    ok 5 - should throw when packageJsonUrl is invalid URL\n      ---\n      duration_ms: 1.6271\n      ...\n    # Subtest: should throw when cannot resolve to a file\n    ok 6 - should throw when cannot resolve to a file\n      ---\n      duration_ms: 0.3971\n      ...\n    # Subtest: should not crash when cannot resolve to a file that contains special chars\n    ok 7 - should not crash when cannot resolve to a file that contains special chars\n      ---\n      duration_ms: 0.3631\n      ...\n    # Subtest: should throw when cannot resolve to a file (base not defined)\n    ok 8 - should throw when cannot resolve to a file (base not defined)\n      ---\n      duration_ms: 0.7645\n      ...\n    1..8\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 18.8875\n  type: 'suite'\n  location: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:15:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 8\n# suites 1\n# pass 7\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 45.1772"},"time":332.16,"fullname":"es-module/test-cjs-legacyMainResolve","closingTestPoint":false}},{"testName":"sequential/test-module-loading","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 0,win11-arm64-COMPILED_BY-vs2022-arm64 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=0,nodes=win11-arm64-COMPILED_BY-vs2022-arm64/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win11_vs2022-arm64-6","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"sequential/test-module-loading","id":957,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"{ loaded: 'from child' }\n{ loaded: 'from child' }\nb/c.js exit\nexit\nload test-module-loading.js\nload fixtures/b/d.js\nload package/index.js\nload fixtures/b/c.js\nload fixtures/a.js\ntest index.js modules ids and relative loading\ntest index.js in a folder with a trailing slash\ntest cycles containing a .. path\ntest node_modules folders\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\foo.js\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nd:\\workspace\\node_modules\nd:\\node_modules\n\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\index.js\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nd:\\workspace\\node_modules\nd:\\node_modules\n\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\bar.js\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nd:\\workspace\\node_modules\nd:\\node_modules\n\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\\asdf.js\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nd:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nd:\\workspace\\node_modules\nd:\\node_modules\n\ntest name clashes\nload custom file types with extensions\nload custom file types that return non-strings\nload order\n(node:4964) [DEP0128] DeprecationWarning: Invalid 'main' field in '\\\\?\\d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\packages\\missing-main\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\n(Use `node --trace-deprecation ...` to show where the warning was created)\nnode:assert:126\n  throw new AssertionError(obj);\n  ^\n\nAssertionError [ERR_ASSERTION]: Expected values to be strictly equal:\n+ actual - expected\n\n+ \"Invalid 'main' field in '\\\\\\\\?\\\\d:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n- \"Invalid 'main' field in 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n    at Object.<anonymous> (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:677:14)\n    at Object.DeprecationWarning (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:473:15)\n    at process.<anonymous> (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:701:33)\n    at process.emit (node:events:531:35)\n    at doEmitWarning (node:internal/process/warning:94:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21) {\n  generatedMessage: true,\n  code: 'ERR_ASSERTION',\n  actual: \"Invalid 'main' field in '\\\\\\\\?\\\\d:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  expected: \"Invalid 'main' field in 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  operator: 'strictEqual'\n}\n\nNode.js v22.0.0-pre"},"time":817.89,"fullname":"sequential/test-module-loading","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 0,win2022-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=0,nodes=win2022-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-rackspace-win2022_vs2022-x64-4","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve","id":21,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should resolve using packageConfig.main\n    not ok 1 - should resolve using packageConfig.main\n      ---\n      duration_ms: 9.9633\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:16:3'\n      failureType: 'testCodeFailure'\n      error: 'The URL must be of scheme file:'\n      code: 'ERR_INVALID_URL_SCHEME'\n      name: 'TypeError'\n      stack: |-\n        legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve.js:41:9)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n      ...\n    # Subtest: should resolve using packageJsonUrl\n    ok 2 - should resolve using packageJsonUrl\n      ---\n      duration_ms: 4.3812\n      ...\n    # Subtest: should throw when packageJsonUrl is not URL\n    ok 3 - should throw when packageJsonUrl is not URL\n      ---\n      duration_ms: 4.0803\n      ...\n    # Subtest: should throw when packageConfigMain is invalid URL\n    ok 4 - should throw when packageConfigMain is invalid URL\n      ---\n      duration_ms: 4.3458\n      ...\n    # Subtest: should throw when packageJsonUrl is invalid URL\n    ok 5 - should throw when packageJsonUrl is invalid URL\n      ---\n      duration_ms: 1.1227\n      ...\n    # Subtest: should throw when cannot resolve to a file\n    ok 6 - should throw when cannot resolve to a file\n      ---\n      duration_ms: 0.9423\n      ...\n    # Subtest: should not crash when cannot resolve to a file that contains special chars\n    ok 7 - should not crash when cannot resolve to a file that contains special chars\n      ---\n      duration_ms: 0.9934\n      ...\n    # Subtest: should throw when cannot resolve to a file (base not defined)\n    ok 8 - should throw when cannot resolve to a file (base not defined)\n      ---\n      duration_ms: 1.4567\n      ...\n    1..8\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 41.3523\n  type: 'suite'\n  location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:15:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 8\n# suites 1\n# pass 7\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 108.8515"},"time":562.01,"fullname":"es-module/test-cjs-legacyMainResolve","closingTestPoint":false}},{"testName":"es-module/test-esm-invalid-pjson","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win2019-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win2019-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-rackspace-win2019_vs2019-x64-1","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-esm-invalid-pjson","id":37,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: ESM: Package.json\n    # Subtest: should throw on invalid pson\n    not ok 1 - should throw on invalid pson\n      ---\n      duration_ms: 951.0332\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:11:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:internal/modules/package_json_reader:110\n          const parsed = modulesBinding.readPackageJSON(\n                                        ^\n        \n        Error: Invalid package config \\\\?\\C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\invalid-pjson\\package.json while importing \"invalid-pjson\" from C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\es-modules\\import-invalid-pjson.mjs.\n            at Object.read (node:internal/modules/package_json_reader:110:33)\n            at packageResolve (node:internal/modules/esm/resolve:826:45)\n            at moduleResolve (node:internal/modules/esm/resolve:918:18)\n            at defaultResolve (node:internal/modules/esm/resolve:1148:11)\n            at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n            at ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n            at ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n            at ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n            at link (node:internal/modules/esm/module_job:86:36) {\n          code: 'ERR_INVALID_PACKAGE_CONFIG'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: true\n      actual: false\n      operator: '=='\n      stack: |-\n        Object.read (node:internal/modules/package_json_reader:110:33)\n        packageResolve (node:internal/modules/esm/resolve:826:45)\n        moduleResolve (node:internal/modules/esm/resolve:918:18)\n        defaultResolve (node:internal/modules/esm/resolve:1148:11)\n        ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n        ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n        ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n        ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n        link (node:internal/modules/esm/module_job:86:36) {\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-esm-invalid-pjson.js:18:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:642:9)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..1\nnot ok 1 - ESM: Package.json\n  ---\n  duration_ms: 958.6149\n  type: 'suite'\n  location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:10:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 1\n# suites 1\n# pass 0\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 985.2538"},"time":1806.039,"fullname":"es-module/test-esm-invalid-pjson","closingTestPoint":false}},{"testName":"es-module/test-esm-invalid-pjson","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win2016-COMPILED_BY-vs2022-x86 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win2016-COMPILED_BY-vs2022-x86/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win2016_vs2017-x64-1","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-esm-invalid-pjson","id":36,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: ESM: Package.json\n    # Subtest: should throw on invalid pson\n    not ok 1 - should throw on invalid pson\n      ---\n      duration_ms: 416.7821\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:11:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:internal/modules/package_json_reader:110\n          const parsed = modulesBinding.readPackageJSON(\n                                        ^\n        \n        Error: Invalid package config \\\\?\\C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\invalid-pjson\\package.json while importing \"invalid-pjson\" from C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\es-modules\\import-invalid-pjson.mjs.\n            at Object.read (node:internal/modules/package_json_reader:110:33)\n            at packageResolve (node:internal/modules/esm/resolve:826:45)\n            at moduleResolve (node:internal/modules/esm/resolve:918:18)\n            at defaultResolve (node:internal/modules/esm/resolve:1148:11)\n            at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n            at ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n            at ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n            at ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n            at link (node:internal/modules/esm/module_job:86:36) {\n          code: 'ERR_INVALID_PACKAGE_CONFIG'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: true\n      actual: false\n      operator: '=='\n      stack: |-\n        Object.read (node:internal/modules/package_json_reader:110:33)\n        packageResolve (node:internal/modules/esm/resolve:826:45)\n        moduleResolve (node:internal/modules/esm/resolve:918:18)\n        defaultResolve (node:internal/modules/esm/resolve:1148:11)\n        ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n        ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n        ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n        ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n        link (node:internal/modules/esm/module_job:86:36) {\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-esm-invalid-pjson.js:18:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:642:9)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..1\nnot ok 1 - ESM: Package.json\n  ---\n  duration_ms: 420.0123\n  type: 'suite'\n  location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:10:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 1\n# suites 1\n# pass 0\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 431.9838"},"time":749.017,"fullname":"es-module/test-esm-invalid-pjson","closingTestPoint":false}},{"testName":"es-module/test-esm-invalid-pjson","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win10-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win10-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win10_vs2019-x64-3","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-esm-invalid-pjson","id":37,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: ESM: Package.json\n    # Subtest: should throw on invalid pson\n    not ok 1 - should throw on invalid pson\n      ---\n      duration_ms: 239.3789\n      location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:11:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:internal/modules/package_json_reader:110\n          const parsed = modulesBinding.readPackageJSON(\n                                        ^\n        \n        Error: Invalid package config \\\\?\\c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\invalid-pjson\\package.json while importing \"invalid-pjson\" from c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\es-modules\\import-invalid-pjson.mjs.\n            at Object.read (node:internal/modules/package_json_reader:110:33)\n            at packageResolve (node:internal/modules/esm/resolve:826:45)\n            at moduleResolve (node:internal/modules/esm/resolve:918:18)\n            at defaultResolve (node:internal/modules/esm/resolve:1148:11)\n            at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n            at ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n            at ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n            at ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n            at link (node:internal/modules/esm/module_job:86:36) {\n          code: 'ERR_INVALID_PACKAGE_CONFIG'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: true\n      actual: false\n      operator: '=='\n      stack: |-\n        Object.read (node:internal/modules/package_json_reader:110:33)\n        packageResolve (node:internal/modules/esm/resolve:826:45)\n        moduleResolve (node:internal/modules/esm/resolve:918:18)\n        defaultResolve (node:internal/modules/esm/resolve:1148:11)\n        ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n        ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n        ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n        ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n        link (node:internal/modules/esm/module_job:86:36) {\n        TestContext.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-esm-invalid-pjson.js:18:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:642:9)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..1\nnot ok 1 - ESM: Package.json\n  ---\n  duration_ms: 242.8584\n  type: 'suite'\n  location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:10:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 1\n# suites 1\n# pass 0\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 255.7534"},"time":763.055,"fullname":"es-module/test-esm-invalid-pjson","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve-permission","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win2019-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win2019-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-rackspace-win2019_vs2019-x64-2","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve-permission","id":24,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should ensure permission model when resolving by packageConfig.main\n    not ok 1 - should ensure permission model when resolving by packageConfig.main\n      ---\n      duration_ms: 141.7315\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:19:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:19:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:19:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:19:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:19:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:75:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n        Array.map (<anonymous>)\n      ...\n    # Subtest: should ensure permission model when resolving by packageJsonUrl\n    not ok 2 - should ensure permission model when resolving by packageJsonUrl\n      ---\n      duration_ms: 125.5412\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:79:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:20:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:20:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:20:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:20:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:133:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Suite.processPendingSubtests (node:internal/test_runner/test:382:18)\n        Test.postRun (node:internal/test_runner/test:732:19)\n        Test.run (node:internal/test_runner/test:690:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..2\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 273.2932\n  type: 'suite'\n  location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:18:1'\n  failureType: 'subtestsFailed'\n  error: '2 subtests failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 2\n# suites 1\n# pass 0\n# fail 2\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 305.211\n(node:1272) ExperimentalWarning: Permission is an experimental feature\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:1272) SecurityWarning: The flag --allow-child-process must be used with extreme caution. It could invalidate the permission model."},"time":730.964,"fullname":"es-module/test-cjs-legacyMainResolve-permission","closingTestPoint":false}},{"testName":"sequential/test-module-loading","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win2019-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win2019-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-rackspace-win2019_vs2019-x64-2","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"sequential/test-module-loading","id":957,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"{ loaded: 'from child' }\n{ loaded: 'from child' }\nb/c.js exit\nexit\nload test-module-loading.js\nload fixtures/b/d.js\nload package/index.js\nload fixtures/b/c.js\nload fixtures/a.js\ntest index.js modules ids and relative loading\ntest index.js in a folder with a trailing slash\ntest cycles containing a .. path\ntest node_modules folders\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\foo.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\index.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\bar.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\\asdf.js\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nC:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nC:\\workspace\\node_modules\nC:\\node_modules\n\ntest name clashes\nload custom file types with extensions\nload custom file types that return non-strings\nload order\n(node:7248) [DEP0128] DeprecationWarning: Invalid 'main' field in '\\\\?\\C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\packages\\missing-main\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\n(Use `node --trace-deprecation ...` to show where the warning was created)\nnode:assert:126\n  throw new AssertionError(obj);\n  ^\n\nAssertionError [ERR_ASSERTION]: Expected values to be strictly equal:\n+ actual - expected\n\n+ \"Invalid 'main' field in '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n- \"Invalid 'main' field in 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n    at Object.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:677:14)\n    at Object.DeprecationWarning (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:473:15)\n    at process.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:701:33)\n    at process.emit (node:events:531:35)\n    at doEmitWarning (node:internal/process/warning:94:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21) {\n  generatedMessage: true,\n  code: 'ERR_ASSERTION',\n  actual: \"Invalid 'main' field in '\\\\\\\\?\\\\C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  expected: \"Invalid 'main' field in 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  operator: 'strictEqual'\n}\n\nNode.js v22.0.0-pre"},"time":992.975,"fullname":"sequential/test-module-loading","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 0,win10-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=0,nodes=win10-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win10_vs2019-x64-2","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve","id":23,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should resolve using packageConfig.main\n    not ok 1 - should resolve using packageConfig.main\n      ---\n      duration_ms: 3.5152\n      location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:16:3'\n      failureType: 'testCodeFailure'\n      error: 'The URL must be of scheme file:'\n      code: 'ERR_INVALID_URL_SCHEME'\n      name: 'TypeError'\n      stack: |-\n        legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n        TestContext.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve.js:41:9)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n      ...\n    # Subtest: should resolve using packageJsonUrl\n    ok 2 - should resolve using packageJsonUrl\n      ---\n      duration_ms: 1.615\n      ...\n    # Subtest: should throw when packageJsonUrl is not URL\n    ok 3 - should throw when packageJsonUrl is not URL\n      ---\n      duration_ms: 1.7678\n      ...\n    # Subtest: should throw when packageConfigMain is invalid URL\n    ok 4 - should throw when packageConfigMain is invalid URL\n      ---\n      duration_ms: 0.7143\n      ...\n    # Subtest: should throw when packageJsonUrl is invalid URL\n    ok 5 - should throw when packageJsonUrl is invalid URL\n      ---\n      duration_ms: 0.3259\n      ...\n    # Subtest: should throw when cannot resolve to a file\n    ok 6 - should throw when cannot resolve to a file\n      ---\n      duration_ms: 0.3207\n      ...\n    # Subtest: should not crash when cannot resolve to a file that contains special chars\n    ok 7 - should not crash when cannot resolve to a file that contains special chars\n      ---\n      duration_ms: 0.316\n      ...\n    # Subtest: should throw when cannot resolve to a file (base not defined)\n    ok 8 - should throw when cannot resolve to a file (base not defined)\n      ---\n      duration_ms: 0.5332\n      ...\n    1..8\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 15.819\n  type: 'suite'\n  location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:15:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 8\n# suites 1\n# pass 7\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 35.2673"},"time":169.005,"fullname":"es-module/test-cjs-legacyMainResolve","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 0,win2019-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=0,nodes=win2019-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-rackspace-win2019_vs2019-x64-1","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve","id":23,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should resolve using packageConfig.main\n    not ok 1 - should resolve using packageConfig.main\n      ---\n      duration_ms: 6.531\n      location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:16:3'\n      failureType: 'testCodeFailure'\n      error: 'The URL must be of scheme file:'\n      code: 'ERR_INVALID_URL_SCHEME'\n      name: 'TypeError'\n      stack: |-\n        legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n        TestContext.<anonymous> (C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve.js:41:9)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n      ...\n    # Subtest: should resolve using packageJsonUrl\n    ok 2 - should resolve using packageJsonUrl\n      ---\n      duration_ms: 2.7861\n      ...\n    # Subtest: should throw when packageJsonUrl is not URL\n    ok 3 - should throw when packageJsonUrl is not URL\n      ---\n      duration_ms: 5.0072\n      ...\n    # Subtest: should throw when packageConfigMain is invalid URL\n    ok 4 - should throw when packageConfigMain is invalid URL\n      ---\n      duration_ms: 0.9282\n      ...\n    # Subtest: should throw when packageJsonUrl is invalid URL\n    ok 5 - should throw when packageJsonUrl is invalid URL\n      ---\n      duration_ms: 0.5495\n      ...\n    # Subtest: should throw when cannot resolve to a file\n    ok 6 - should throw when cannot resolve to a file\n      ---\n      duration_ms: 0.6435\n      ...\n    # Subtest: should not crash when cannot resolve to a file that contains special chars\n    ok 7 - should not crash when cannot resolve to a file that contains special chars\n      ---\n      duration_ms: 0.5351\n      ...\n    # Subtest: should throw when cannot resolve to a file (base not defined)\n    ok 8 - should throw when cannot resolve to a file (base not defined)\n      ---\n      duration_ms: 1.146\n      ...\n    1..8\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 27.2231\n  type: 'suite'\n  location: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:15:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 8\n# suites 1\n# pass 7\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 73.6631"},"time":433.991,"fullname":"es-module/test-cjs-legacyMainResolve","closingTestPoint":false}},{"testName":"es-module/test-esm-invalid-pjson","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win11-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win11-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win11_vs2022-x64-4","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-esm-invalid-pjson","id":36,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: ESM: Package.json\n    # Subtest: should throw on invalid pson\n    not ok 1 - should throw on invalid pson\n      ---\n      duration_ms: 402.4854\n      location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:11:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:internal/modules/package_json_reader:110\n          const parsed = modulesBinding.readPackageJSON(\n                                        ^\n        \n        Error: Invalid package config \\\\?\\c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\invalid-pjson\\package.json while importing \"invalid-pjson\" from c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\es-modules\\import-invalid-pjson.mjs.\n            at Object.read (node:internal/modules/package_json_reader:110:33)\n            at packageResolve (node:internal/modules/esm/resolve:826:45)\n            at moduleResolve (node:internal/modules/esm/resolve:918:18)\n            at defaultResolve (node:internal/modules/esm/resolve:1148:11)\n            at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n            at ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n            at ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n            at ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n            at link (node:internal/modules/esm/module_job:86:36) {\n          code: 'ERR_INVALID_PACKAGE_CONFIG'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: true\n      actual: false\n      operator: '=='\n      stack: |-\n        Object.read (node:internal/modules/package_json_reader:110:33)\n        packageResolve (node:internal/modules/esm/resolve:826:45)\n        moduleResolve (node:internal/modules/esm/resolve:918:18)\n        defaultResolve (node:internal/modules/esm/resolve:1148:11)\n        ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n        ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n        ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n        ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n        link (node:internal/modules/esm/module_job:86:36) {\n        TestContext.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-esm-invalid-pjson.js:18:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:642:9)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..1\nnot ok 1 - ESM: Package.json\n  ---\n  duration_ms: 405.3331\n  type: 'suite'\n  location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:10:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 1\n# suites 1\n# pass 0\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 434.0595"},"time":592.995,"fullname":"es-module/test-esm-invalid-pjson","closingTestPoint":false}},{"testName":"es-module/test-esm-invalid-pjson","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win11-arm64-COMPILED_BY-vs2022-arm64 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win11-arm64-COMPILED_BY-vs2022-arm64/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win11_vs2022-arm64-3","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-esm-invalid-pjson","id":36,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: ESM: Package.json\n    # Subtest: should throw on invalid pson\n    not ok 1 - should throw on invalid pson\n      ---\n      duration_ms: 478.7492\n      location: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:11:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:internal/modules/package_json_reader:110\n          const parsed = modulesBinding.readPackageJSON(\n                                        ^\n        \n        Error: Invalid package config \\\\?\\d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\invalid-pjson\\package.json while importing \"invalid-pjson\" from d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\es-modules\\import-invalid-pjson.mjs.\n            at Object.read (node:internal/modules/package_json_reader:110:33)\n            at packageResolve (node:internal/modules/esm/resolve:826:45)\n            at moduleResolve (node:internal/modules/esm/resolve:918:18)\n            at defaultResolve (node:internal/modules/esm/resolve:1148:11)\n            at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n            at ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n            at ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n            at ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n            at link (node:internal/modules/esm/module_job:86:36) {\n          code: 'ERR_INVALID_PACKAGE_CONFIG'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: true\n      actual: false\n      operator: '=='\n      stack: |-\n        Object.read (node:internal/modules/package_json_reader:110:33)\n        packageResolve (node:internal/modules/esm/resolve:826:45)\n        moduleResolve (node:internal/modules/esm/resolve:918:18)\n        defaultResolve (node:internal/modules/esm/resolve:1148:11)\n        ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12)\n        ModuleLoader.resolve (node:internal/modules/esm/loader:359:25)\n        ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38)\n        ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39)\n        link (node:internal/modules/esm/module_job:86:36) {\n        TestContext.<anonymous> (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-esm-invalid-pjson.js:18:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:642:9)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..1\nnot ok 1 - ESM: Package.json\n  ---\n  duration_ms: 482.1071\n  type: 'suite'\n  location: 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-esm-invalid-pjson.js:10:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 1\n# suites 1\n# pass 0\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 508.8095"},"time":950,"fullname":"es-module/test-esm-invalid-pjson","closingTestPoint":false}},{"testName":"wasi/test-wasi-poll","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win11-arm64-COMPILED_BY-vs2022-arm64 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win11-arm64-COMPILED_BY-vs2022-arm64/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win11_vs2022-arm64-3","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"wasi/test-wasi-poll","id":913,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"Testing with --turbo-fast-api-calls: poll\n[process 8576]: --- stderr ---\n(node:8576) ExperimentalWarning: WASI is an experimental feature and might change at any time\n(Use `node --trace-warnings ...` to show where the warning was created)\n\n[process 8576]: --- stdout ---\n\n[process 8576]: status = 3221225477, signal = null\nd:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\child_process.js:86\n    throw new Error(`${failures.join('\\n')}`);\n    ^\n\nError: - process terminated with status 3221225477, expected 0\n    at logAndThrow (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\child_process.js:86:11)\n    at expectSyncExit (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\child_process.js:91:5)\n    at spawnSyncAndExitWithoutError (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\child_process.js:125:10)\n    at testWasiPreview1 (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\wasi.js:18:3)\n    at Object.<anonymous> (d:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\wasi\\test-wasi-poll.js:5:1)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:142:12)\n\nNode.js v22.0.0-pre"},"time":585.998,"fullname":"wasi/test-wasi-poll","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 0,win11-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=0,nodes=win11-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win11_vs2022-x64-3","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve","id":23,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should resolve using packageConfig.main\n    not ok 1 - should resolve using packageConfig.main\n      ---\n      duration_ms: 4.3716\n      location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:16:3'\n      failureType: 'testCodeFailure'\n      error: 'The URL must be of scheme file:'\n      code: 'ERR_INVALID_URL_SCHEME'\n      name: 'TypeError'\n      stack: |-\n        legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n        TestContext.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve.js:41:9)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n      ...\n    # Subtest: should resolve using packageJsonUrl\n    ok 2 - should resolve using packageJsonUrl\n      ---\n      duration_ms: 1.83\n      ...\n    # Subtest: should throw when packageJsonUrl is not URL\n    ok 3 - should throw when packageJsonUrl is not URL\n      ---\n      duration_ms: 8.5626\n      ...\n    # Subtest: should throw when packageConfigMain is invalid URL\n    ok 4 - should throw when packageConfigMain is invalid URL\n      ---\n      duration_ms: 0.6036\n      ...\n    # Subtest: should throw when packageJsonUrl is invalid URL\n    ok 5 - should throw when packageJsonUrl is invalid URL\n      ---\n      duration_ms: 0.3497\n      ...\n    # Subtest: should throw when cannot resolve to a file\n    ok 6 - should throw when cannot resolve to a file\n      ---\n      duration_ms: 0.3701\n      ...\n    # Subtest: should not crash when cannot resolve to a file that contains special chars\n    ok 7 - should not crash when cannot resolve to a file that contains special chars\n      ---\n      duration_ms: 0.8293\n      ...\n    # Subtest: should throw when cannot resolve to a file (base not defined)\n    ok 8 - should throw when cannot resolve to a file (base not defined)\n      ---\n      duration_ms: 1.0827\n      ...\n    1..8\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 23.3927\n  type: 'suite'\n  location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve.js:15:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 8\n# suites 1\n# pass 7\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 48.0543"},"time":260.493,"fullname":"es-module/test-cjs-legacyMainResolve","closingTestPoint":false}},{"testName":"es-module/test-cjs-legacyMainResolve-permission","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win11-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win11-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win11_vs2022-x64-2","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"es-module/test-cjs-legacyMainResolve-permission","id":23,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"TAP version 13\n# Subtest: legacyMainResolve\n    # Subtest: should ensure permission model when resolving by packageConfig.main\n    not ok 1 - should ensure permission model when resolving by packageConfig.main\n      ---\n      duration_ms: 65.8134\n      location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:19:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:19:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:19:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:19:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:19:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:75:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Test.start (node:internal/test_runner/test:550:17)\n        node:internal/test_runner/test:964:71\n        node:internal/per_context/primordials:488:82\n        new Promise (<anonymous>)\n        new SafePromise (node:internal/per_context/primordials:456:29)\n        node:internal/per_context/primordials:488:9\n        Array.map (<anonymous>)\n      ...\n    # Subtest: should ensure permission model when resolving by packageJsonUrl\n    not ok 2 - should ensure permission model when resolving by packageJsonUrl\n      ---\n      duration_ms: 79.8675\n      location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:79:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        node:assert:644\n              throw err;\n              ^\n        \n        AssertionError [ERR_ASSERTION]: Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          Comparison {\n            code: 'ERR_ACCESS_DENIED',\n        +   resource: '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n        -   resource: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          }\n            at [eval]:20:20\n            at runScriptInThisContext (node:internal/vm:209:10)\n            at node:internal/process/execution:109:14\n            at [eval]-wrapper:6:24\n            at runScript (node:internal/process/execution:92:62)\n            at evalScript (node:internal/process/execution:123:10)\n            at node:internal/main/eval_string:51:3 {\n          generatedMessage: true,\n          code: 'ERR_ASSERTION',\n          actual: Error: Access to this API has been restricted\n              at legacyMainResolve (node:internal/modules/esm/resolve:214:26)\n              at assert.throws.code ([eval]:20:33)\n              at getActual (node:assert:765:5)\n              at Function.throws (node:assert:911:24)\n              at [eval]:20:20\n              at runScriptInThisContext (node:internal/vm:209:10)\n              at node:internal/process/execution:109:14\n              at [eval]-wrapper:6:24\n              at runScript (node:internal/process/execution:92:62)\n              at evalScript (node:internal/process/execution:123:10) {\n            code: 'ERR_ACCESS_DENIED',\n            permission: 'FileSystemRead',\n            resource: '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          expected: {\n            code: 'ERR_ACCESS_DENIED',\n            resource: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\es-modules\\\\legacy-main-resolver\\\\index-js\\\\index.js'\n          },\n          operator: 'throws'\n        }\n        \n        Node.js v22.0.0-pre\n        \n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected: 0\n      actual: 1\n      operator: 'strictEqual'\n      stack: |-\n        [eval]:20:20\n        runScriptInThisContext (node:internal/vm:209:10)\n        node:internal/process/execution:109:14\n        [eval]-wrapper:6:24\n        runScript (node:internal/process/execution:92:62)\n        evalScript (node:internal/process/execution:123:10)\n        node:internal/main/eval_string:51:3 {\n        TestContext.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\es-module\\test-cjs-legacyMainResolve-permission.js:133:14)\n        Test.runInAsyncScope (node:async_hooks:206:9)\n        Test.run (node:internal/test_runner/test:641:25)\n        Suite.processPendingSubtests (node:internal/test_runner/test:382:18)\n        Test.postRun (node:internal/test_runner/test:732:19)\n        Test.run (node:internal/test_runner/test:690:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Promise.all (index 0)\n        async Suite.run (node:internal/test_runner/test:966:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..2\nnot ok 1 - legacyMainResolve\n  ---\n  duration_ms: 148.8502\n  type: 'suite'\n  location: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\es-module\\\\test-cjs-legacyMainResolve-permission.js:18:1'\n  failureType: 'subtestsFailed'\n  error: '2 subtests failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 2\n# suites 1\n# pass 0\n# fail 2\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 165.4414\n(node:11144) ExperimentalWarning: Permission is an experimental feature\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:11144) SecurityWarning: The flag --allow-child-process must be used with extreme caution. It could invalidate the permission model."},"time":305.999,"fullname":"es-module/test-cjs-legacyMainResolve-permission","closingTestPoint":false}},{"testName":"parallel/test-runner-watch-mode","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win11-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win11-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win11_vs2022-x64-2","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"parallel/test-runner-watch-mode","id":699,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: test runner watch mode\n    # Subtest: should run tests repeatedly\n    ok 1 - should run tests repeatedly\n      ---\n      duration_ms: 1468.9352\n      ...\n    # Subtest: should run tests with dependency repeatedly\n    ok 2 - should run tests with dependency repeatedly\n      ---\n      duration_ms: 1489.7006\n      ...\n    # Subtest: should run tests with ESM dependency\n    ok 3 - should run tests with ESM dependency\n      ---\n      duration_ms: 1511.3324\n      ...\n    # Subtest: should support running tests without a file\n    ok 4 - should support running tests without a file\n      ---\n      duration_ms: 1537.1741\n      ...\n    1..4\nok 1 - test runner watch mode\n  ---\n  duration_ms: 6010.763\n  type: 'suite'\n  ...\n1..1\n# tests 4\n# suites 1\n# pass 4\n# fail 0\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 6030.9369\nCan't clean tmpdir: c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\.tmp.659\nFiles blocking: [ 'dependency.js', 'dependency.mjs', 'test.js' ]\n\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\tmpdir.js:69\n    throw e;\n    ^\n\nError: EBUSY: resource busy or locked, rmdir 'c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\.tmp.659'\n    at rmdirSync (node:fs:1216:11)\n    at _rmdirSync (node:internal/fs/rimraf:235:5)\n    at rimrafSync (node:internal/fs/rimraf:193:7)\n    at Object.rmSync (node:fs:1265:10)\n    at rmSync (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\tmpdir.js:20:8)\n    at onexit (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\tmpdir.js:54:5)\n    at process.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\tmpdir.js:43:14)\n    at process.emit (node:events:531:35) {\n  errno: -4082,\n  code: 'EBUSY',\n  syscall: 'rmdir',\n  path: 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.659'\n}\n\nNode.js v22.0.0-pre"},"time":6530.092,"fullname":"parallel/test-runner-watch-mode","closingTestPoint":false}},{"testName":"sequential/test-module-loading","timestamp":1709208359524,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win11-COMPILED_BY-vs2022 #26201","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win11-COMPILED_BY-vs2022/26201/","buildNumber":26201,"builtOn":"test-azure_msft-win11_vs2022-x64-2","nodeVersion":"22.0.0","commitHash":"4e651a11eea0370eaa22a141b3821b6574a8f7e2","callStack":[{"upstreamBuild":61121,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68806,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":57500,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"51097"}],"tap":{"ok":false,"name":"sequential/test-module-loading","id":957,"buffered":false,"tapError":null,"skip":false,"todo":false,"previous":null,"plan":null,"diag":{"severity":"fail","exitcode":1,"stack":"{ loaded: 'from child' }\n{ loaded: 'from child' }\nb/c.js exit\nexit\nload test-module-loading.js\nload fixtures/b/d.js\nload package/index.js\nload fixtures/b/c.js\nload fixtures/a.js\ntest index.js modules ids and relative loading\ntest index.js in a folder with a trailing slash\ntest cycles containing a .. path\ntest node_modules folders\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\foo.js\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nc:\\workspace\\node_modules\nc:\\node_modules\n\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\index.js\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nc:\\workspace\\node_modules\nc:\\node_modules\n\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\bar.js\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nc:\\workspace\\node_modules\nc:\\node_modules\n\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\\asdf.js\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\\baz\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node\\node_modules\nc:\\workspace\\node-test-binary-windows-js-suites\\node_modules\nc:\\workspace\\node_modules\nc:\\node_modules\n\ntest name clashes\nload custom file types with extensions\nload custom file types that return non-strings\nload order\n(node:4408) [DEP0128] DeprecationWarning: Invalid 'main' field in '\\\\?\\c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\fixtures\\packages\\missing-main\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\n(Use `node --trace-deprecation ...` to show where the warning was created)\nnode:assert:126\n  throw new AssertionError(obj);\n  ^\n\nAssertionError [ERR_ASSERTION]: Expected values to be strictly equal:\n+ actual - expected\n\n+ \"Invalid 'main' field in '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n- \"Invalid 'main' field in 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\"\n    at Object.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:677:14)\n    at Object.DeprecationWarning (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:473:15)\n    at process.<anonymous> (c:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\common\\index.js:701:33)\n    at process.emit (node:events:531:35)\n    at doEmitWarning (node:internal/process/warning:94:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21) {\n  generatedMessage: true,\n  code: 'ERR_ASSERTION',\n  actual: \"Invalid 'main' field in '\\\\\\\\?\\\\c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  expected: \"Invalid 'main' field in 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\fixtures\\\\packages\\\\missing-main\\\\package.json' of 'doesnotexist.js'. Please either fix that or report it to the module author\",\n  operator: 'strictEqual'\n}\n\nNode.js v22.0.0-pre"},"time":187.666,"fullname":"sequential/test-module-loading","closingTestPoint":false}}]}