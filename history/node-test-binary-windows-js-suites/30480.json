{"failedTests":[{"testName":"parallel/test-runner-run-watch","timestamp":1727143033491,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 3,win2022-COMPILED_BY-vs2022 #30480","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=3,nodes=win2022-COMPILED_BY-vs2022/30480/","buildNumber":30480,"builtOn":"test-rackspace-win2022_vs2022-x64-4","nodeVersion":"23.0.0","commitHash":"963ab6ca317786d23b81fbc88e9e3ad3c9e00663","callStack":[{"upstreamBuild":66170,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":74734,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":62697,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"55006"}],"tap":{"ok":false,"name":"parallel/test-runner-run-watch","id":942,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"▶ test runner watch mode\n  ✔ should run tests repeatedly (1768.6412ms)\n  ✔ should run tests with dependency repeatedly (1759.9246ms)\n  ✔ should run tests with ESM dependency (1758.633ms)\n  ✔ should support running tests without a file (1759.8689ms)\n  ✔ should support a watched test file rename (1907.7824ms)\n  ✔ should not throw when deleting a watched test file (2375.5332ms)\n  ✔ should run tests with dependency repeatedly in a different cwd (1653.0151ms)\n  ✖ should handle renames in a different cwd (2387.7155ms)\n    Error: ENOENT: no such file or directory, rename 'C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\.tmp.686\\test.js' -> 'C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\.tmp.686\\test-renamed-test.js'\n        at renameSync (node:fs:1020:11)\n        at Timeout._onTimeout (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/parallel/test-runner-run-watch.mjs:94:40)\n        at listOnTimeout (node:internal/timers:614:17)\n        at process.processTimers (node:internal/timers:549:7) {\n      errno: -4058,\n      code: 'ENOENT',\n      syscall: 'rename',\n      path: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.686\\\\test.js',\n      dest: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.686\\\\test-renamed-test.js'\n    }\n\n  ✖ should run new tests when a new file is created in the watched directory (2750.1729ms)\n    AssertionError [ERR_ASSERTION]: The input did not match the regular expression /tests 1/. Input:\n    \n    'TAP version 13\\n' +\n      '# node:internal/modules/cjs/loader:1262\\n' +\n      '#   throw err;\\n' +\n      '#   ^\\n' +\n      \"# Error: Cannot find module 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.686\\\\\\\\test.js'\\n\" +\n      '#     at Function._resolveFilename (node:internal/modules/cjs/loader:1259:15)\\n' +\n      '#     at Function._load (node:internal/modules/cjs/loader:1085:27)\\n' +\n      '#     at TracingChannel.traceSync (node:diagnostics_channel:315:14)\\n' +\n      '#     at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)\\n' +\n      '#     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:165:5)\\n' +\n      '#     at node:internal/main/run_main_module:30:49 {\\n' +\n      \"#   code: 'MODULE_NOT_FOUND',\\n\" +\n      '#   requireStack: []\\n' +\n      '# }\\n' +\n      '# Node.js v23.0.0-pre\\n' +\n      '# Subtest: test.js\\n' +\n      'not ok 1 - test.js\\n' +\n      '  ---\\n' +\n      '  duration_ms: 437.6188\\n' +\n      \"  location: 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.686\\\\\\\\test.js:1:1'\\n\" +\n      \"  failureType: 'testCodeFailure'\\n\" +\n      '  exitCode: 1\\n' +\n      '  signal: ~\\n' +\n      \"  error: 'test failed'\\n\" +\n      \"  code: 'ERR_TEST_FAILURE'\\n\" +\n      '  ...\\n' +\n      '# Subtest: test has ran\\n' +\n      'ok 2 - test has ran\\n' +\n      '  ---\\n' +\n      '  duration_ms: 1.945\\n' +\n      '  ...\\n' +\n      '1..2\\n' +\n      '# tests 2\\n' +\n      '# suites 0\\n' +\n      '# pass 1\\n' +\n      '# fail 1\\n' +\n      '# cancelled 0\\n' +\n      '# skipped 0\\n' +\n      '# todo 0\\n' +\n      '# duration_ms 646.3197\\n'\n    \n        at testCreate (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/parallel/test-runner-run-watch.mjs:166:14)\n        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at async testWatch (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/parallel/test-runner-run-watch.mjs:177:26)\n        at async TestContext.<anonymous> (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/parallel/test-runner-run-watch.mjs:225:5)\n        at async Test.run (node:internal/test_runner/test:931:9)\n        at async Suite.processPendingSubtests (node:internal/test_runner/test:629:7) {\n      generatedMessage: true,\n      code: 'ERR_ASSERTION',\n      actual: \"TAP version 13\\n# node:internal/modules/cjs/loader:1262\\n#   throw err;\\n#   ^\\n# Error: Cannot find module 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.686\\\\\\\\test.js'\\n#     at Function._resolveFilename (node:internal/modules/cjs/loader:1259:15)\\n#     at Function._load (node:internal/modules/cjs/loader:1085:27)\\n#     at TracingChannel.traceSync (node:diagnostics_channel:315:14)\\n#     at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)\\n#     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:165:5)\\n...\",\n      expected: /tests 1/,\n      operator: 'match'\n    }\n\n✖ test runner watch mode (18135.7682ms)\nℹ tests 9\nℹ suites 1\nℹ pass 7\nℹ fail 2\nℹ cancelled 0\nℹ skipped 0\nℹ todo 0\nℹ duration_ms 18150.0935\n\n✖ failing tests:\n\ntest at test\\parallel\\test-runner-run-watch.mjs:215:3\n✖ should handle renames in a different cwd (2387.7155ms)\n  Error: ENOENT: no such file or directory, rename 'C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\.tmp.686\\test.js' -> 'C:\\workspace\\node-test-binary-windows-js-suites\\node\\test\\.tmp.686\\test-renamed-test.js'\n      at renameSync (node:fs:1020:11)\n      at Timeout._onTimeout (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/parallel/test-runner-run-watch.mjs:94:40)\n      at listOnTimeout (node:internal/timers:614:17)\n      at process.processTimers (node:internal/timers:549:7) {\n    errno: -4058,\n    code: 'ENOENT',\n    syscall: 'rename',\n    path: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.686\\\\test.js',\n    dest: 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.686\\\\test-renamed-test.js'\n  }\n\ntest at test\\parallel\\test-runner-run-watch.mjs:224:3\n✖ should run new tests when a new file is created in the watched directory (2750.1729ms)\n  AssertionError [ERR_ASSERTION]: The input did not match the regular expression /tests 1/. Input:\n  \n  'TAP version 13\\n' +\n    '# node:internal/modules/cjs/loader:1262\\n' +\n    '#   throw err;\\n' +\n    '#   ^\\n' +\n    \"# Error: Cannot find module 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.686\\\\\\\\test.js'\\n\" +\n    '#     at Function._resolveFilename (node:internal/modules/cjs/loader:1259:15)\\n' +\n    '#     at Function._load (node:internal/modules/cjs/loader:1085:27)\\n' +\n    '#     at TracingChannel.traceSync (node:diagnostics_channel:315:14)\\n' +\n    '#     at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)\\n' +\n    '#     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:165:5)\\n' +\n    '#     at node:internal/main/run_main_module:30:49 {\\n' +\n    \"#   code: 'MODULE_NOT_FOUND',\\n\" +\n    '#   requireStack: []\\n' +\n    '# }\\n' +\n    '# Node.js v23.0.0-pre\\n' +\n    '# Subtest: test.js\\n' +\n    'not ok 1 - test.js\\n' +\n    '  ---\\n' +\n    '  duration_ms: 437.6188\\n' +\n    \"  location: 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.686\\\\\\\\test.js:1:1'\\n\" +\n    \"  failureType: 'testCodeFailure'\\n\" +\n    '  exitCode: 1\\n' +\n    '  signal: ~\\n' +\n    \"  error: 'test failed'\\n\" +\n    \"  code: 'ERR_TEST_FAILURE'\\n\" +\n    '  ...\\n' +\n    '# Subtest: test has ran\\n' +\n    'ok 2 - test has ran\\n' +\n    '  ---\\n' +\n    '  duration_ms: 1.945\\n' +\n    '  ...\\n' +\n    '1..2\\n' +\n    '# tests 2\\n' +\n    '# suites 0\\n' +\n    '# pass 1\\n' +\n    '# fail 1\\n' +\n    '# cancelled 0\\n' +\n    '# skipped 0\\n' +\n    '# todo 0\\n' +\n    '# duration_ms 646.3197\\n'\n  \n      at testCreate (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/parallel/test-runner-run-watch.mjs:166:14)\n      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n      at async testWatch (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/parallel/test-runner-run-watch.mjs:177:26)\n      at async TestContext.<anonymous> (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/parallel/test-runner-run-watch.mjs:225:5)\n      at async Test.run (node:internal/test_runner/test:931:9)\n      at async Suite.processPendingSubtests (node:internal/test_runner/test:629:7) {\n    generatedMessage: true,\n    code: 'ERR_ASSERTION',\n    actual: \"TAP version 13\\n# node:internal/modules/cjs/loader:1262\\n#   throw err;\\n#   ^\\n# Error: Cannot find module 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.686\\\\\\\\test.js'\\n#     at Function._resolveFilename (node:internal/modules/cjs/loader:1259:15)\\n#     at Function._load (node:internal/modules/cjs/loader:1085:27)\\n#     at TracingChannel.traceSync (node:diagnostics_channel:315:14)\\n#     at wrapModuleLoad (node:internal/modules/cjs/loader:217:24)\\n#     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:165:5)\\n...\",\n    expected: /tests 1/,\n    operator: 'match'\n  }"},"time":18596.784,"fullname":"parallel/test-runner-run-watch","closingTestPoint":false}}]}