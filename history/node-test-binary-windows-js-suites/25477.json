{"failedTests":[{"testName":"sequential/test-watch-mode","timestamp":1705610408347,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 2,win11-arm64-COMPILED_BY-vs2022-arm64 #25477","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=2,nodes=win11-arm64-COMPILED_BY-vs2022-arm64/25477/","buildNumber":25477,"builtOn":"test-azure_msft-win11_vs2022-arm64-1","nodeVersion":"22.0.0","commitHash":"85b3431360977dfe1515c0a2bffe7a9f8d78eba7","callStack":[{"upstreamBuild":60346,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68003,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56838,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"sequential/test-watch-mode","id":961,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: watch mode\n    # Subtest: should watch changes to a file\n    ok 1 - should watch changes to a file\n      ---\n      duration_ms: 1295.4764\n      ...\n    # Subtest: should watch changes to a file - event loop ended\n    ok 2 - should watch changes to a file - event loop ended\n      ---\n      duration_ms: 1045.1953\n      ...\n    # Subtest: should watch changes to a failing file\n    ok 3 - should watch changes to a failing file\n      ---\n      duration_ms: 1104.8155\n      ...\n    # Subtest: should watch changes to a file with watch-path\n    ok 4 - should watch changes to a file with watch-path\n      ---\n      duration_ms: 1160.9548\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path\n    ok 5 - should watch when running an non-existing file - when specified under --watch-path\n      ---\n      duration_ms: 1172.7911\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path with equals\n    ok 6 - should watch when running an non-existing file - when specified under --watch-path with equals\n      ---\n      duration_ms: 1284.9801\n      ...\n    # Subtest: should watch changes to a file - event loop blocked\n    ok 7 - should watch changes to a file - event loop blocked\n      ---\n      duration_ms: 1064.3485\n      ...\n    # Subtest: should watch changes to dependencies - cjs\n    ok 8 - should watch changes to dependencies - cjs\n      ---\n      duration_ms: 1318.3839\n      ...\n    # Subtest: should watch changes to dependencies - esm\n    ok 9 - should watch changes to dependencies - esm\n      ---\n      duration_ms: 1321.9709\n      ...\n    # Subtest: should restart multiple times\n    ok 10 - should restart multiple times\n      ---\n      duration_ms: 3573.1663\n      ...\n    # Subtest: should pass arguments to file\n    ok 11 - should pass arguments to file\n      ---\n      duration_ms: 1305.9354\n      ...\n    # Subtest: should load --require modules in the watched process, and not in the orchestrator process\n    ok 12 - should load --require modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1295.9271\n      ...\n    # Subtest: should load --import modules in the watched process, and not in the orchestrator process\n    ok 13 - should load --import modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1346.2933\n      ...\n    # Subtest: should not watch when running an missing file\n    ok 14 - should not watch when running an missing file\n      ---\n      duration_ms: 1291.9922\n      ...\n    # Subtest: should not watch when running an missing mjs file\n    ok 15 - should not watch when running an missing mjs file\n      ---\n      duration_ms: 1182.8069\n      ...\n    # Subtest: should watch changes to previously missing dependency\n    ok 16 - should watch changes to previously missing dependency\n      ---\n      duration_ms: 1268.2341\n      ...\n    # Subtest: should watch changes to previously missing ESM dependency\n    ok 17 - should watch changes to previously missing ESM dependency\n      ---\n      duration_ms: 1280.971\n      ...\n    # Subtest: should clear output between runs\n    ok 18 - should clear output between runs\n      ---\n      duration_ms: 1162.3176\n      ...\n    # Subtest: should preserve output when --watch-preserve-output flag is passed\n    ok 19 - should preserve output when --watch-preserve-output flag is passed\n      ---\n      duration_ms: 1305.7545\n      ...\n    # Subtest: should pass IPC messages from a spawning parent to the child and back\n    not ok 20 - should pass IPC messages from a spawning parent to the child and back\n      ---\n      duration_ms: 1307.6098\n      location: 'file:///d:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:378:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          [\n            'running',\n            'Received: first message',\n        +   \"Restarting 'd:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.960\\\\\\\\25.js'\",\n        -   \"Restarting 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.960\\\\25.js'\",\n            'running',\n            'Received: second message',\n            \"Completed running 'd:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.960\\\\\\\\25.js'\"\n          ]\n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'd:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.960\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'd:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.960\\\\\\\\25.js'\"\n      actual:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'd:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.960\\\\\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'd:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.960\\\\\\\\25.js'\"\n      operator: 'deepStrictEqual'\n      stack: |-\n        TestContext.<anonymous> (file:///d:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:448:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:634:9)\n        async Promise.all (index 19)\n        async Suite.run (node:internal/test_runner/test:951:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..20\nnot ok 1 - watch mode\n  ---\n  duration_ms: 3664.3053\n  type: 'suite'\n  location: 'file:///d:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:91:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 20\n# suites 1\n# pass 19\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 3680.5252"},"time":4125.985,"fullname":"sequential/test-watch-mode","closingTestPoint":false}},{"testName":"sequential/test-watch-mode","timestamp":1705610408347,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win11-COMPILED_BY-vs2022 #25477","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win11-COMPILED_BY-vs2022/25477/","buildNumber":25477,"builtOn":"test-azure_msft-win11_vs2022-x64-1","nodeVersion":"22.0.0","commitHash":"85b3431360977dfe1515c0a2bffe7a9f8d78eba7","callStack":[{"upstreamBuild":60346,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68003,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56838,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"sequential/test-watch-mode","id":962,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: watch mode\n    # Subtest: should watch changes to a file\n    ok 1 - should watch changes to a file\n      ---\n      duration_ms: 1750.5504\n      ...\n    # Subtest: should watch changes to a file - event loop ended\n    ok 2 - should watch changes to a file - event loop ended\n      ---\n      duration_ms: 1743.3188\n      ...\n    # Subtest: should watch changes to a failing file\n    ok 3 - should watch changes to a failing file\n      ---\n      duration_ms: 1738.3075\n      ...\n    # Subtest: should watch changes to a file with watch-path\n    ok 4 - should watch changes to a file with watch-path\n      ---\n      duration_ms: 1771.3886\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path\n    ok 5 - should watch when running an non-existing file - when specified under --watch-path\n      ---\n      duration_ms: 1140.5998\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path with equals\n    ok 6 - should watch when running an non-existing file - when specified under --watch-path with equals\n      ---\n      duration_ms: 1045.9519\n      ...\n    # Subtest: should watch changes to a file - event loop blocked\n    ok 7 - should watch changes to a file - event loop blocked\n      ---\n      duration_ms: 990.1602\n      ...\n    # Subtest: should watch changes to dependencies - cjs\n    ok 8 - should watch changes to dependencies - cjs\n      ---\n      duration_ms: 1112.7943\n      ...\n    # Subtest: should watch changes to dependencies - esm\n    ok 9 - should watch changes to dependencies - esm\n      ---\n      duration_ms: 1102.7123\n      ...\n    # Subtest: should restart multiple times\n    ok 10 - should restart multiple times\n      ---\n      duration_ms: 3538.6098\n      ...\n    # Subtest: should pass arguments to file\n    ok 11 - should pass arguments to file\n      ---\n      duration_ms: 1209.1733\n      ...\n    # Subtest: should load --require modules in the watched process, and not in the orchestrator process\n    ok 12 - should load --require modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1269.6413\n      ...\n    # Subtest: should load --import modules in the watched process, and not in the orchestrator process\n    ok 13 - should load --import modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1171.563\n      ...\n    # Subtest: should not watch when running an missing file\n    ok 14 - should not watch when running an missing file\n      ---\n      duration_ms: 1098.658\n      ...\n    # Subtest: should not watch when running an missing mjs file\n    ok 15 - should not watch when running an missing mjs file\n      ---\n      duration_ms: 1106.9283\n      ...\n    # Subtest: should watch changes to previously missing dependency\n    ok 16 - should watch changes to previously missing dependency\n      ---\n      duration_ms: 1120.7479\n      ...\n    # Subtest: should watch changes to previously missing ESM dependency\n    ok 17 - should watch changes to previously missing ESM dependency\n      ---\n      duration_ms: 1090.86\n      ...\n    # Subtest: should clear output between runs\n    ok 18 - should clear output between runs\n      ---\n      duration_ms: 1082.2276\n      ...\n    # Subtest: should preserve output when --watch-preserve-output flag is passed\n    ok 19 - should preserve output when --watch-preserve-output flag is passed\n      ---\n      duration_ms: 1029.3436\n      ...\n    # Subtest: should pass IPC messages from a spawning parent to the child and back\n    not ok 20 - should pass IPC messages from a spawning parent to the child and back\n      ---\n      duration_ms: 989.7607\n      location: 'file:///c:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:378:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          [\n            'running',\n            'Received: first message',\n        +   \"Restarting 'c:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\",\n        -   \"Restarting 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.961\\\\25.js'\",\n            'running',\n            'Received: second message',\n            \"Completed running 'c:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n          ]\n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.961\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'c:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n      actual:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'c:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'c:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n      operator: 'deepStrictEqual'\n      stack: |-\n        TestContext.<anonymous> (file:///c:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:448:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:634:9)\n        async Promise.all (index 19)\n        async Suite.run (node:internal/test_runner/test:951:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..20\nnot ok 1 - watch mode\n  ---\n  duration_ms: 3624.8623\n  type: 'suite'\n  location: 'file:///c:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:91:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 20\n# suites 1\n# pass 19\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 3639.3398"},"time":4025.734,"fullname":"sequential/test-watch-mode","closingTestPoint":false}},{"testName":"sequential/test-watch-mode","timestamp":1705610408347,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win2016-COMPILED_BY-vs2022-x86 #25477","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win2016-COMPILED_BY-vs2022-x86/25477/","buildNumber":25477,"builtOn":"test-rackspace-win2016_vs2015-x64-1","nodeVersion":"22.0.0","commitHash":"85b3431360977dfe1515c0a2bffe7a9f8d78eba7","callStack":[{"upstreamBuild":60346,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68003,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56838,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"sequential/test-watch-mode","id":962,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: watch mode\n    # Subtest: should watch changes to a file\n    ok 1 - should watch changes to a file\n      ---\n      duration_ms: 1142.2027\n      ...\n    # Subtest: should watch changes to a file - event loop ended\n    ok 2 - should watch changes to a file - event loop ended\n      ---\n      duration_ms: 1017.1658\n      ...\n    # Subtest: should watch changes to a failing file\n    ok 3 - should watch changes to a failing file\n      ---\n      duration_ms: 1038.2399\n      ...\n    # Subtest: should watch changes to a file with watch-path\n    ok 4 - should watch changes to a file with watch-path\n      ---\n      duration_ms: 957.522\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path\n    ok 5 - should watch when running an non-existing file - when specified under --watch-path\n      ---\n      duration_ms: 1036.4772\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path with equals\n    ok 6 - should watch when running an non-existing file - when specified under --watch-path with equals\n      ---\n      duration_ms: 1137.7989\n      ...\n    # Subtest: should watch changes to a file - event loop blocked\n    ok 7 - should watch changes to a file - event loop blocked\n      ---\n      duration_ms: 993.6108\n      ...\n    # Subtest: should watch changes to dependencies - cjs\n    ok 8 - should watch changes to dependencies - cjs\n      ---\n      duration_ms: 1115.3367\n      ...\n    # Subtest: should watch changes to dependencies - esm\n    ok 9 - should watch changes to dependencies - esm\n      ---\n      duration_ms: 1190.2455\n      ...\n    # Subtest: should restart multiple times\n    ok 10 - should restart multiple times\n      ---\n      duration_ms: 3349.773\n      ...\n    # Subtest: should pass arguments to file\n    ok 11 - should pass arguments to file\n      ---\n      duration_ms: 1091.5115\n      ...\n    # Subtest: should load --require modules in the watched process, and not in the orchestrator process\n    ok 12 - should load --require modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1061.5819\n      ...\n    # Subtest: should load --import modules in the watched process, and not in the orchestrator process\n    ok 13 - should load --import modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1181.3615\n      ...\n    # Subtest: should not watch when running an missing file\n    ok 14 - should not watch when running an missing file\n      ---\n      duration_ms: 965.8984\n      ...\n    # Subtest: should not watch when running an missing mjs file\n    ok 15 - should not watch when running an missing mjs file\n      ---\n      duration_ms: 1026.263\n      ...\n    # Subtest: should watch changes to previously missing dependency\n    ok 16 - should watch changes to previously missing dependency\n      ---\n      duration_ms: 1043.5022\n      ...\n    # Subtest: should watch changes to previously missing ESM dependency\n    ok 17 - should watch changes to previously missing ESM dependency\n      ---\n      duration_ms: 1197.105\n      ...\n    # Subtest: should clear output between runs\n    ok 18 - should clear output between runs\n      ---\n      duration_ms: 998.6619\n      ...\n    # Subtest: should preserve output when --watch-preserve-output flag is passed\n    ok 19 - should preserve output when --watch-preserve-output flag is passed\n      ---\n      duration_ms: 1023.3983\n      ...\n    # Subtest: should pass IPC messages from a spawning parent to the child and back\n    not ok 20 - should pass IPC messages from a spawning parent to the child and back\n      ---\n      duration_ms: 930.1075\n      location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:378:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          [\n            'running',\n            'Received: first message',\n        +   \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\",\n        -   \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.961\\\\25.js'\",\n            'running',\n            'Received: second message',\n            \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n          ]\n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.961\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n      actual:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n      operator: 'deepStrictEqual'\n      stack: |-\n        TestContext.<anonymous> (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:448:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:634:9)\n        async Promise.all (index 19)\n        async Suite.run (node:internal/test_runner/test:951:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..20\nnot ok 1 - watch mode\n  ---\n  duration_ms: 3481.7764\n  type: 'suite'\n  location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:91:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 20\n# suites 1\n# pass 19\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 3511.9515"},"time":3960.975,"fullname":"sequential/test-watch-mode","closingTestPoint":false}},{"testName":"sequential/test-watch-mode","timestamp":1705610408347,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win2022-COMPILED_BY-vs2022 #25477","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win2022-COMPILED_BY-vs2022/25477/","buildNumber":25477,"builtOn":"test-rackspace-win2022_vs2022-x64-2","nodeVersion":"22.0.0","commitHash":"85b3431360977dfe1515c0a2bffe7a9f8d78eba7","callStack":[{"upstreamBuild":60346,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68003,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56838,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"sequential/test-watch-mode","id":962,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: watch mode\n    # Subtest: should watch changes to a file\n    ok 1 - should watch changes to a file\n      ---\n      duration_ms: 947.0705\n      ...\n    # Subtest: should watch changes to a file - event loop ended\n    ok 2 - should watch changes to a file - event loop ended\n      ---\n      duration_ms: 962.1784\n      ...\n    # Subtest: should watch changes to a failing file\n    ok 3 - should watch changes to a failing file\n      ---\n      duration_ms: 1087.8775\n      ...\n    # Subtest: should watch changes to a file with watch-path\n    ok 4 - should watch changes to a file with watch-path\n      ---\n      duration_ms: 1013.5259\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path\n    ok 5 - should watch when running an non-existing file - when specified under --watch-path\n      ---\n      duration_ms: 954.3103\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path with equals\n    ok 6 - should watch when running an non-existing file - when specified under --watch-path with equals\n      ---\n      duration_ms: 1034.7077\n      ...\n    # Subtest: should watch changes to a file - event loop blocked\n    ok 7 - should watch changes to a file - event loop blocked\n      ---\n      duration_ms: 963.7421\n      ...\n    # Subtest: should watch changes to dependencies - cjs\n    ok 8 - should watch changes to dependencies - cjs\n      ---\n      duration_ms: 1362.479\n      ...\n    # Subtest: should watch changes to dependencies - esm\n    ok 9 - should watch changes to dependencies - esm\n      ---\n      duration_ms: 1072.3443\n      ...\n    # Subtest: should restart multiple times\n    ok 10 - should restart multiple times\n      ---\n      duration_ms: 3464.0592\n      ...\n    # Subtest: should pass arguments to file\n    ok 11 - should pass arguments to file\n      ---\n      duration_ms: 1164.7273\n      ...\n    # Subtest: should load --require modules in the watched process, and not in the orchestrator process\n    ok 12 - should load --require modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1270.6681\n      ...\n    # Subtest: should load --import modules in the watched process, and not in the orchestrator process\n    ok 13 - should load --import modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1172.4011\n      ...\n    # Subtest: should not watch when running an missing file\n    ok 14 - should not watch when running an missing file\n      ---\n      duration_ms: 1040.1067\n      ...\n    # Subtest: should not watch when running an missing mjs file\n    ok 15 - should not watch when running an missing mjs file\n      ---\n      duration_ms: 1023.1604\n      ...\n    # Subtest: should watch changes to previously missing dependency\n    ok 16 - should watch changes to previously missing dependency\n      ---\n      duration_ms: 1231.8206\n      ...\n    # Subtest: should watch changes to previously missing ESM dependency\n    ok 17 - should watch changes to previously missing ESM dependency\n      ---\n      duration_ms: 1106.6697\n      ...\n    # Subtest: should clear output between runs\n    ok 18 - should clear output between runs\n      ---\n      duration_ms: 1058.254\n      ...\n    # Subtest: should preserve output when --watch-preserve-output flag is passed\n    ok 19 - should preserve output when --watch-preserve-output flag is passed\n      ---\n      duration_ms: 981.5404\n      ...\n    # Subtest: should pass IPC messages from a spawning parent to the child and back\n    not ok 20 - should pass IPC messages from a spawning parent to the child and back\n      ---\n      duration_ms: 1152.0938\n      location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:378:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          [\n            'running',\n            'Received: first message',\n        +   \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\",\n        -   \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.961\\\\25.js'\",\n            'running',\n            'Received: second message',\n            \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n          ]\n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.961\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n      actual:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n      operator: 'deepStrictEqual'\n      stack: |-\n        TestContext.<anonymous> (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:448:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:634:9)\n        async Promise.all (index 19)\n        async Suite.run (node:internal/test_runner/test:951:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..20\nnot ok 1 - watch mode\n  ---\n  duration_ms: 3579.3854\n  type: 'suite'\n  location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:91:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 20\n# suites 1\n# pass 19\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 3605.1836"},"time":4027.017,"fullname":"sequential/test-watch-mode","closingTestPoint":false}},{"testName":"sequential/test-watch-mode","timestamp":1705610408347,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win2019-COMPILED_BY-vs2022 #25477","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win2019-COMPILED_BY-vs2022/25477/","buildNumber":25477,"builtOn":"test-rackspace-win2019_vs2019-x64-1","nodeVersion":"22.0.0","commitHash":"85b3431360977dfe1515c0a2bffe7a9f8d78eba7","callStack":[{"upstreamBuild":60346,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68003,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56838,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"sequential/test-watch-mode","id":962,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: watch mode\n    # Subtest: should watch changes to a file\n    ok 1 - should watch changes to a file\n      ---\n      duration_ms: 1097.3675\n      ...\n    # Subtest: should watch changes to a file - event loop ended\n    ok 2 - should watch changes to a file - event loop ended\n      ---\n      duration_ms: 978.3186\n      ...\n    # Subtest: should watch changes to a failing file\n    ok 3 - should watch changes to a failing file\n      ---\n      duration_ms: 1107.6312\n      ...\n    # Subtest: should watch changes to a file with watch-path\n    ok 4 - should watch changes to a file with watch-path\n      ---\n      duration_ms: 1312.9306\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path\n    ok 5 - should watch when running an non-existing file - when specified under --watch-path\n      ---\n      duration_ms: 1106.0469\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path with equals\n    ok 6 - should watch when running an non-existing file - when specified under --watch-path with equals\n      ---\n      duration_ms: 1317.2052\n      ...\n    # Subtest: should watch changes to a file - event loop blocked\n    ok 7 - should watch changes to a file - event loop blocked\n      ---\n      duration_ms: 1118.9369\n      ...\n    # Subtest: should watch changes to dependencies - cjs\n    ok 8 - should watch changes to dependencies - cjs\n      ---\n      duration_ms: 1105.4114\n      ...\n    # Subtest: should watch changes to dependencies - esm\n    ok 9 - should watch changes to dependencies - esm\n      ---\n      duration_ms: 1281.1204\n      ...\n    # Subtest: should restart multiple times\n    ok 10 - should restart multiple times\n      ---\n      duration_ms: 3396.6968\n      ...\n    # Subtest: should pass arguments to file\n    ok 11 - should pass arguments to file\n      ---\n      duration_ms: 1253.261\n      ...\n    # Subtest: should load --require modules in the watched process, and not in the orchestrator process\n    ok 12 - should load --require modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1196.8145\n      ...\n    # Subtest: should load --import modules in the watched process, and not in the orchestrator process\n    ok 13 - should load --import modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1183.5624\n      ...\n    # Subtest: should not watch when running an missing file\n    ok 14 - should not watch when running an missing file\n      ---\n      duration_ms: 1227.3203\n      ...\n    # Subtest: should not watch when running an missing mjs file\n    ok 15 - should not watch when running an missing mjs file\n      ---\n      duration_ms: 1187.7797\n      ...\n    # Subtest: should watch changes to previously missing dependency\n    ok 16 - should watch changes to previously missing dependency\n      ---\n      duration_ms: 1211.5751\n      ...\n    # Subtest: should watch changes to previously missing ESM dependency\n    ok 17 - should watch changes to previously missing ESM dependency\n      ---\n      duration_ms: 1227.1783\n      ...\n    # Subtest: should clear output between runs\n    ok 18 - should clear output between runs\n      ---\n      duration_ms: 1109.1103\n      ...\n    # Subtest: should preserve output when --watch-preserve-output flag is passed\n    ok 19 - should preserve output when --watch-preserve-output flag is passed\n      ---\n      duration_ms: 1236.7339\n      ...\n    # Subtest: should pass IPC messages from a spawning parent to the child and back\n    not ok 20 - should pass IPC messages from a spawning parent to the child and back\n      ---\n      duration_ms: 1272.4288\n      location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:378:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          [\n            'running',\n            'Received: first message',\n        +   \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\",\n        -   \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.961\\\\25.js'\",\n            'running',\n            'Received: second message',\n            \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n          ]\n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.961\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n      actual:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'C:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n      operator: 'deepStrictEqual'\n      stack: |-\n        TestContext.<anonymous> (file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:448:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:634:9)\n        async Promise.all (index 19)\n        async Suite.run (node:internal/test_runner/test:951:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..20\nnot ok 1 - watch mode\n  ---\n  duration_ms: 3510.4439\n  type: 'suite'\n  location: 'file:///C:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:91:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 20\n# suites 1\n# pass 19\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 3534.6867"},"time":3927.092,"fullname":"sequential/test-watch-mode","closingTestPoint":false}},{"testName":"sequential/test-watch-mode","timestamp":1705610408347,"status":"FAILED","jobName":"node-test-binary-windows-js-suites","config":"node-test-binary-windows-js-suites » 1,win10-COMPILED_BY-vs2022 #25477","buildUrl":"https://ci.nodejs.org/job/node-test-binary-windows-js-suites/RUN_SUBSET=1,nodes=win10-COMPILED_BY-vs2022/25477/","buildNumber":25477,"builtOn":"test-azure_msft-win10_vs2019-x64-4","nodeVersion":"22.0.0","commitHash":"85b3431360977dfe1515c0a2bffe7a9f8d78eba7","callStack":[{"upstreamBuild":60346,"upstreamProject":"node-test-commit-windows-fanned","upstreamUrl":"job/node-test-commit-windows-fanned/"},{"upstreamBuild":68003,"upstreamProject":"node-test-commit","upstreamUrl":"job/node-test-commit/"},{"upstreamBuild":56838,"upstreamProject":"node-test-pull-request","upstreamUrl":"job/node-test-pull-request/"},{"prId":"50890"}],"tap":{"ok":false,"name":"sequential/test-watch-mode","id":962,"buffered":false,"tapError":null,"skip":false,"todo":": Fix flaky test","previous":null,"plan":null,"diag":{"severity":"flaky","exitcode":1,"stack":"TAP version 13\n# Subtest: watch mode\n    # Subtest: should watch changes to a file\n    ok 1 - should watch changes to a file\n      ---\n      duration_ms: 1295.5556\n      ...\n    # Subtest: should watch changes to a file - event loop ended\n    ok 2 - should watch changes to a file - event loop ended\n      ---\n      duration_ms: 1290.4639\n      ...\n    # Subtest: should watch changes to a failing file\n    ok 3 - should watch changes to a failing file\n      ---\n      duration_ms: 1302.5219\n      ...\n    # Subtest: should watch changes to a file with watch-path\n    ok 4 - should watch changes to a file with watch-path\n      ---\n      duration_ms: 1275.3596\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path\n    ok 5 - should watch when running an non-existing file - when specified under --watch-path\n      ---\n      duration_ms: 1138.8981\n      ...\n    # Subtest: should watch when running an non-existing file - when specified under --watch-path with equals\n    ok 6 - should watch when running an non-existing file - when specified under --watch-path with equals\n      ---\n      duration_ms: 952.9968\n      ...\n    # Subtest: should watch changes to a file - event loop blocked\n    ok 7 - should watch changes to a file - event loop blocked\n      ---\n      duration_ms: 907.0059\n      ...\n    # Subtest: should watch changes to dependencies - cjs\n    ok 8 - should watch changes to dependencies - cjs\n      ---\n      duration_ms: 1118.176\n      ...\n    # Subtest: should watch changes to dependencies - esm\n    ok 9 - should watch changes to dependencies - esm\n      ---\n      duration_ms: 1249.2342\n      ...\n    # Subtest: should restart multiple times\n    ok 10 - should restart multiple times\n      ---\n      duration_ms: 3436.1496\n      ...\n    # Subtest: should pass arguments to file\n    ok 11 - should pass arguments to file\n      ---\n      duration_ms: 1053.3563\n      ...\n    # Subtest: should load --require modules in the watched process, and not in the orchestrator process\n    ok 12 - should load --require modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 1259.7696\n      ...\n    # Subtest: should load --import modules in the watched process, and not in the orchestrator process\n    ok 13 - should load --import modules in the watched process, and not in the orchestrator process\n      ---\n      duration_ms: 880.9091\n      ...\n    # Subtest: should not watch when running an missing file\n    ok 14 - should not watch when running an missing file\n      ---\n      duration_ms: 1246.0862\n      ...\n    # Subtest: should not watch when running an missing mjs file\n    ok 15 - should not watch when running an missing mjs file\n      ---\n      duration_ms: 1256.0803\n      ...\n    # Subtest: should watch changes to previously missing dependency\n    ok 16 - should watch changes to previously missing dependency\n      ---\n      duration_ms: 1111.4197\n      ...\n    # Subtest: should watch changes to previously missing ESM dependency\n    ok 17 - should watch changes to previously missing ESM dependency\n      ---\n      duration_ms: 1181.7697\n      ...\n    # Subtest: should clear output between runs\n    ok 18 - should clear output between runs\n      ---\n      duration_ms: 1076.2564\n      ...\n    # Subtest: should preserve output when --watch-preserve-output flag is passed\n    ok 19 - should preserve output when --watch-preserve-output flag is passed\n      ---\n      duration_ms: 1091.9863\n      ...\n    # Subtest: should pass IPC messages from a spawning parent to the child and back\n    not ok 20 - should pass IPC messages from a spawning parent to the child and back\n      ---\n      duration_ms: 1190.6687\n      location: 'file:///c:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:378:3'\n      failureType: 'testCodeFailure'\n      error: |-\n        Expected values to be strictly deep-equal:\n        + actual - expected\n        \n          [\n            'running',\n            'Received: first message',\n        +   \"Restarting 'c:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\",\n        -   \"Restarting 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.961\\\\25.js'\",\n            'running',\n            'Received: second message',\n            \"Completed running 'c:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n          ]\n      code: 'ERR_ASSERTION'\n      name: 'AssertionError'\n      expected:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'c:\\\\workspace\\\\node-test-binary-windows-js-suites\\\\node\\\\test\\\\.tmp.961\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'c:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n      actual:\n        0: 'running'\n        1: 'Received: first message'\n        2: \"Restarting 'c:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n        3: 'running'\n        4: 'Received: second message'\n        5: \"Completed running 'c:\\\\\\\\workspace\\\\\\\\node-test-binary-windows-js-suites\\\\\\\\node\\\\\\\\test\\\\\\\\.tmp.961\\\\\\\\25.js'\"\n      operator: 'deepStrictEqual'\n      stack: |-\n        TestContext.<anonymous> (file:///c:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:448:12)\n        process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n        async Test.run (node:internal/test_runner/test:634:9)\n        async Promise.all (index 19)\n        async Suite.run (node:internal/test_runner/test:951:7)\n        async startSubtest (node:internal/test_runner/harness:218:3)\n      ...\n    1..20\nnot ok 1 - watch mode\n  ---\n  duration_ms: 3503.7045\n  type: 'suite'\n  location: 'file:///c:/workspace/node-test-binary-windows-js-suites/node/test/sequential/test-watch-mode.mjs:91:1'\n  failureType: 'subtestsFailed'\n  error: '1 subtest failed'\n  code: 'ERR_TEST_FAILURE'\n  ...\n1..1\n# tests 20\n# suites 1\n# pass 19\n# fail 1\n# cancelled 0\n# skipped 0\n# todo 0\n# duration_ms 3515.6166"},"time":3867.41,"fullname":"sequential/test-watch-mode","closingTestPoint":false}}]}