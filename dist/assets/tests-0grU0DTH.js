import{j as e,r,B as N,L as g}from"./index-mPiKIrYs.js";import{f as T,T as h,P as o,a as B,b as C,c as _,d as x,e as t,g as k}from"./api-KzP03VUR.js";const l="_tableHeaderCell_3rkz9_1",v="_filterBox_3rkz9_5";const S=({callStack:n})=>{const a=n[n.length-1];return a.prId?e.jsxs("a",{target:"_blank",rel:"noreferrer",href:`https://github.com/nodejs/node/pull/${a.prId}`,children:["PR ",a.prId]}):e.jsxs("a",{href:`https://ci.nodejs.org/${a.upstreamUrl}${a.upstreamBuild}`,target:"_blank",rel:"noreferrer",children:[a.upstreamProject,", ",a.upstreamBuild]})},E=()=>{const[n,a]=r.useState([]),[u,i]=r.useState([]),[d,j]=r.useState(""),[c,m]=r.useState("");r.useEffect(()=>{T().then(({data:s})=>{a(s)})},[]),r.useEffect(()=>{i(n.map(s=>d.length&&!s.testName.includes(d)||c.length&&s.date!==c?null:s).filter(s=>s!==null).slice(0,100))},[n,c,i,d]);const b=s=>{j(s.target.value.trim())},f=s=>{m(s.target.value.trim())};return e.jsxs(e.Fragment,{children:[e.jsx(N,{component:g,to:"/",children:"Back"}),e.jsxs("div",{className:v,children:[e.jsx(h,{id:"standard-basic",label:"Name",variant:"standard",value:d,onChange:b}),e.jsx(h,{id:"standard-basic",label:"Date",variant:"standard",value:c,onChange:f})]}),e.jsx(o,{sx:{width:"100%",overflow:"hidden"},children:e.jsx(B,{component:o,children:e.jsxs(C,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[e.jsx(_,{children:e.jsxs(x,{children:[e.jsx(t,{className:l,children:"Test name"}),e.jsx(t,{className:l,children:"Job"}),e.jsx(t,{className:l,children:"Config"}),e.jsx(t,{className:l,children:"Status"}),e.jsx(t,{className:l,children:"Node"}),e.jsx(t,{className:l,sx:{minWidth:75},children:"Date"}),e.jsx(t,{className:l,children:"Build"}),e.jsx(t,{className:l,children:"Built On"}),e.jsx(t,{className:l,children:"Source"})]})}),e.jsx(k,{children:u.map((s,p)=>e.jsxs(x,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(t,{component:"th",scope:"row",children:s.testName}),e.jsx(t,{children:s.jobName}),e.jsx(t,{children:s.config}),e.jsx(t,{children:s.status}),e.jsx(t,{children:s.nodeVersion}),e.jsx(t,{children:s.date}),e.jsx(t,{children:e.jsx("a",{href:s.buildUrl,target:"_blank",rel:"noreferrer",children:s.buildNumber})}),e.jsx(t,{children:s.builtOn}),e.jsx(t,{children:e.jsx(S,{callStack:s.callStack})})]},p))})]})})})]})};export{E as Tests};
